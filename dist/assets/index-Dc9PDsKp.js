function pp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function gp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Dc={exports:{}},ji={},Uc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),vp=Symbol.for("react.portal"),yp=Symbol.for("react.fragment"),wp=Symbol.for("react.strict_mode"),_p=Symbol.for("react.profiler"),Sp=Symbol.for("react.provider"),xp=Symbol.for("react.context"),Ep=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),bp=Symbol.for("react.memo"),jp=Symbol.for("react.lazy"),Hl=Symbol.iterator;function Cp(t){return t===null||typeof t!="object"?null:(t=Hl&&t[Hl]||t["@@iterator"],typeof t=="function"?t:null)}var Fc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bc=Object.assign,Mc={};function nn(t,e,r){this.props=t,this.context=e,this.refs=Mc,this.updater=r||Fc}nn.prototype.isReactComponent={};nn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zc(){}zc.prototype=nn.prototype;function Ia(t,e,r){this.props=t,this.context=e,this.refs=Mc,this.updater=r||Fc}var La=Ia.prototype=new zc;La.constructor=Ia;Bc(La,nn.prototype);La.isPureReactComponent=!0;var Kl=Array.isArray,Vc=Object.prototype.hasOwnProperty,$a={current:null},Wc={key:!0,ref:!0,__self:!0,__source:!0};function Hc(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vc.call(e,n)&&!Wc.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:rs,type:t,key:i,ref:o,props:s,_owner:$a.current}}function Op(t,e){return{$$typeof:rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Da(t){return typeof t=="object"&&t!==null&&t.$$typeof===rs}function Tp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Gl=/\/+/g;function Hi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Tp(""+t.key):e.toString(36)}function $s(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rs:case vp:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Hi(o,0):n,Kl(s)?(r="",t!=null&&(r=t.replace(Gl,"$&/")+"/"),$s(s,e,r,"",function(u){return u})):s!=null&&(Da(s)&&(s=Op(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Kl(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Hi(i,a);o+=$s(i,e,r,l,s)}else if(l=Cp(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Hi(i,a++),o+=$s(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function us(t,e,r){if(t==null)return t;var n=[],s=0;return $s(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Rp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ee={current:null},Ds={transition:null},Pp={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:$a};function Kc(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:us,forEach:function(t,e,r){us(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return us(t,function(){e++}),e},toArray:function(t){return us(t,function(e){return e})||[]},only:function(t){if(!Da(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=nn;M.Fragment=yp;M.Profiler=_p;M.PureComponent=Ia;M.StrictMode=wp;M.Suspense=kp;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pp;M.act=Kc;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Bc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=$a.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vc.call(e,l)&&!Wc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:rs,type:t.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(t){return t={$$typeof:xp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Sp,_context:t},t.Consumer=t};M.createElement=Hc;M.createFactory=function(t){var e=Hc.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:Ep,render:t}};M.isValidElement=Da;M.lazy=function(t){return{$$typeof:jp,_payload:{_status:-1,_result:t},_init:Rp}};M.memo=function(t,e){return{$$typeof:bp,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=Ds.transition;Ds.transition={};try{t()}finally{Ds.transition=e}};M.unstable_act=Kc;M.useCallback=function(t,e){return Ee.current.useCallback(t,e)};M.useContext=function(t){return Ee.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return Ee.current.useDeferredValue(t)};M.useEffect=function(t,e){return Ee.current.useEffect(t,e)};M.useId=function(){return Ee.current.useId()};M.useImperativeHandle=function(t,e,r){return Ee.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return Ee.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return Ee.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return Ee.current.useMemo(t,e)};M.useReducer=function(t,e,r){return Ee.current.useReducer(t,e,r)};M.useRef=function(t){return Ee.current.useRef(t)};M.useState=function(t){return Ee.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return Ee.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return Ee.current.useTransition()};M.version="18.3.1";Uc.exports=M;var N=Uc.exports;const Gc=gp(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np=N,Ap=Symbol.for("react.element"),Ip=Symbol.for("react.fragment"),Lp=Object.prototype.hasOwnProperty,$p=Np.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dp={key:!0,ref:!0,__self:!0,__source:!0};function qc(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Lp.call(e,n)&&!Dp.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Ap,type:t,key:i,ref:o,props:s,_owner:$p.current}}ji.Fragment=Ip;ji.jsx=qc;ji.jsxs=qc;Dc.exports=ji;var p=Dc.exports,Co={},Jc={exports:{}},Ue={},Qc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,$){var D=C.length;C.push($);e:for(;0<D;){var z=D-1>>>1,Y=C[z];if(0<s(Y,$))C[z]=$,C[D]=Y,D=z;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var $=C[0],D=C.pop();if(D!==$){C[0]=D;e:for(var z=0,Y=C.length,jt=Y>>>1;z<jt;){var Be=2*(z+1)-1,yr=C[Be],at=Be+1,wr=C[at];if(0>s(yr,D))at<Y&&0>s(wr,yr)?(C[z]=wr,C[at]=D,z=at):(C[z]=yr,C[Be]=D,z=Be);else if(at<Y&&0>s(wr,D))C[z]=wr,C[at]=D,z=at;else break e}}return $}function s(C,$){var D=C.sortIndex-$.sortIndex;return D!==0?D:C.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,h=3,v=!1,y=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=C)n(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(u)}}function _(C){if(w=!1,g(C),!y)if(r(l)!==null)y=!0,bt(x);else{var $=r(u);$!==null&&Qt(_,$.startTime-C)}}function x(C,$){y=!1,w&&(w=!1,m(T),T=-1),v=!0;var D=h;try{for(g($),f=r(l);f!==null&&(!(f.expirationTime>$)||C&&!be());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var Y=z(f.expirationTime<=$);$=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(l)&&n(l),g($)}else n(l);f=r(l)}if(f!==null)var jt=!0;else{var Be=r(u);Be!==null&&Qt(_,Be.startTime-$),jt=!1}return jt}finally{f=null,h=D,v=!1}}var b=!1,j=null,T=-1,F=5,B=-1;function be(){return!(t.unstable_now()-B<F)}function Pe(){if(j!==null){var C=t.unstable_now();B=C;var $=!0;try{$=j(!0,C)}finally{$?Je():(b=!1,j=null)}}else b=!1}var Je;if(typeof c=="function")Je=function(){c(Pe)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,ot=ft.port2;ft.port1.onmessage=Pe,Je=function(){ot.postMessage(null)}}else Je=function(){S(Pe,0)};function bt(C){j=C,b||(b=!0,Je())}function Qt(C,$){T=S(function(){C(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,bt(x))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var D=h;h=$;try{return C()}finally{h=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=h;h=C;try{return $()}finally{h=D}},t.unstable_scheduleCallback=function(C,$,D){var z=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,C){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=D+Y,C={id:d++,callback:$,priorityLevel:C,startTime:D,expirationTime:Y,sortIndex:-1},D>z?(C.sortIndex=D,e(u,C),r(l)===null&&C===r(u)&&(w?(m(T),T=-1):w=!0,Qt(_,D-z))):(C.sortIndex=Y,e(l,C),y||v||(y=!0,bt(x))),C},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(C){var $=h;return function(){var D=h;h=$;try{return C.apply(this,arguments)}finally{h=D}}}})(Yc);Qc.exports=Yc;var Up=Qc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp=N,De=Up;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xc=new Set,$n={};function mr(t,e){Jr(t,e),Jr(t+"Capture",e)}function Jr(t,e){for($n[t]=e,t=0;t<e.length;t++)Xc.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,Bp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ql={},Jl={};function Mp(t){return Oo.call(Jl,t)?!0:Oo.call(ql,t)?!1:Bp.test(t)?Jl[t]=!0:(ql[t]=!0,!1)}function zp(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Vp(t,e,r,n){if(e===null||typeof e>"u"||zp(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ke(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pe[t]=new ke(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pe[e]=new ke(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pe[t]=new ke(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pe[t]=new ke(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pe[t]=new ke(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pe[t]=new ke(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pe[t]=new ke(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pe[t]=new ke(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pe[t]=new ke(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ua=/[\-:]([a-z])/g;function Fa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ua,Fa);pe[e]=new ke(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ua,Fa);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ua,Fa);pe[e]=new ke(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!1,!1)});pe.xlinkHref=new ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pe[t]=new ke(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ba(t,e,r,n){var s=pe.hasOwnProperty(e)?pe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Vp(e,r,s,n)&&(r=null),n||s===null?Mp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var kt=Fp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cs=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Pr=Symbol.for("react.fragment"),Ma=Symbol.for("react.strict_mode"),To=Symbol.for("react.profiler"),Zc=Symbol.for("react.provider"),ed=Symbol.for("react.context"),za=Symbol.for("react.forward_ref"),Ro=Symbol.for("react.suspense"),Po=Symbol.for("react.suspense_list"),Va=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),td=Symbol.for("react.offscreen"),Ql=Symbol.iterator;function dn(t){return t===null||typeof t!="object"?null:(t=Ql&&t[Ql]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,Ki;function wn(t){if(Ki===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ki=e&&e[1]||""}return`
`+Ki+t}var Gi=!1;function qi(t,e){if(!t||Gi)return"";Gi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?wn(t):""}function Wp(t){switch(t.tag){case 5:return wn(t.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 2:case 15:return t=qi(t.type,!1),t;case 11:return t=qi(t.type.render,!1),t;case 1:return t=qi(t.type,!0),t;default:return""}}function No(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pr:return"Fragment";case Rr:return"Portal";case To:return"Profiler";case Ma:return"StrictMode";case Ro:return"Suspense";case Po:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ed:return(t.displayName||"Context")+".Consumer";case Zc:return(t._context.displayName||"Context")+".Provider";case za:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Va:return e=t.displayName||null,e!==null?e:No(t.type)||"Memo";case Tt:e=t._payload,t=t._init;try{return No(t(e))}catch{}}return null}function Hp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return No(e);case 8:return e===Ma?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kp(t){var e=rd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ds(t){t._valueTracker||(t._valueTracker=Kp(t))}function nd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=rd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ao(t,e){var r=e.checked;return te({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Yl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Wt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sd(t,e){e=e.checked,e!=null&&Ba(t,"checked",e,!1)}function Io(t,e){sd(t,e);var r=Wt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Lo(t,e.type,Wt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Lo(t,e,r){(e!=="number"||Js(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var _n=Array.isArray;function zr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Wt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $o(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return te({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(_n(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Wt(r)}}function id(t,e){var r=Wt(e.value),n=Wt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function eu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function od(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Do(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?od(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hs,ad=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gp=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(t){Gp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bn[e]=bn[t]})});function ld(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||bn.hasOwnProperty(t)&&bn[t]?(""+e).trim():e+"px"}function ud(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ld(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var qp=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(t,e){if(e){if(qp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Fo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function Wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mo=null,Vr=null,Wr=null;function tu(t){if(t=is(t)){if(typeof Mo!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Pi(e),Mo(t.stateNode,t.type,e))}}function cd(t){Vr?Wr?Wr.push(t):Wr=[t]:Vr=t}function dd(){if(Vr){var t=Vr,e=Wr;if(Wr=Vr=null,tu(t),e)for(t=0;t<e.length;t++)tu(e[t])}}function hd(t,e){return t(e)}function fd(){}var Ji=!1;function pd(t,e,r){if(Ji)return t(e,r);Ji=!0;try{return hd(t,e,r)}finally{Ji=!1,(Vr!==null||Wr!==null)&&(fd(),dd())}}function Un(t,e){var r=t.stateNode;if(r===null)return null;var n=Pi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var zo=!1;if(_t)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){zo=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{zo=!1}function Jp(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var jn=!1,Qs=null,Ys=!1,Vo=null,Qp={onError:function(t){jn=!0,Qs=t}};function Yp(t,e,r,n,s,i,o,a,l){jn=!1,Qs=null,Jp.apply(Qp,arguments)}function Xp(t,e,r,n,s,i,o,a,l){if(Yp.apply(this,arguments),jn){if(jn){var u=Qs;jn=!1,Qs=null}else throw Error(E(198));Ys||(Ys=!0,Vo=u)}}function vr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ru(t){if(vr(t)!==t)throw Error(E(188))}function Zp(t){var e=t.alternate;if(!e){if(e=vr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ru(s),t;if(i===n)return ru(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function md(t){return t=Zp(t),t!==null?vd(t):null}function vd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vd(t);if(e!==null)return e;t=t.sibling}return null}var yd=De.unstable_scheduleCallback,nu=De.unstable_cancelCallback,eg=De.unstable_shouldYield,tg=De.unstable_requestPaint,ne=De.unstable_now,rg=De.unstable_getCurrentPriorityLevel,Ha=De.unstable_ImmediatePriority,wd=De.unstable_UserBlockingPriority,Xs=De.unstable_NormalPriority,ng=De.unstable_LowPriority,_d=De.unstable_IdlePriority,Ci=null,dt=null;function sg(t){if(dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:ag,ig=Math.log,og=Math.LN2;function ag(t){return t>>>=0,t===0?32:31-(ig(t)/og|0)|0}var fs=64,ps=4194304;function Sn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Zs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Sn(a):(i&=o,i!==0&&(n=Sn(i)))}else o=r&~s,o!==0?n=Sn(o):i!==0&&(n=Sn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-nt(e),s=1<<r,n|=t[r],e&=~s;return n}function lg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ug(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-nt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=lg(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Wo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sd(){var t=fs;return fs<<=1,!(fs&4194240)&&(fs=64),t}function Qi(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ns(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nt(e),t[e]=r}function cg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-nt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ka(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-nt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var W=0;function xd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ed,Ga,kd,bd,jd,Ho=!1,gs=[],$t=null,Dt=null,Ut=null,Fn=new Map,Bn=new Map,Pt=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(t,e){switch(t){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Fn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(e.pointerId)}}function fn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=is(e),e!==null&&Ga(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hg(t,e,r,n,s){switch(e){case"focusin":return $t=fn($t,t,e,r,n,s),!0;case"dragenter":return Dt=fn(Dt,t,e,r,n,s),!0;case"mouseover":return Ut=fn(Ut,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Fn.set(i,fn(Fn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Bn.set(i,fn(Bn.get(i)||null,t,e,r,n,s)),!0}return!1}function Cd(t){var e=ir(t.target);if(e!==null){var r=vr(e);if(r!==null){if(e=r.tag,e===13){if(e=gd(r),e!==null){t.blockedOn=e,jd(t.priority,function(){kd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Us(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ko(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Bo=n,r.target.dispatchEvent(n),Bo=null}else return e=is(r),e!==null&&Ga(e),t.blockedOn=r,!1;e.shift()}return!0}function iu(t,e,r){Us(t)&&r.delete(e)}function fg(){Ho=!1,$t!==null&&Us($t)&&($t=null),Dt!==null&&Us(Dt)&&(Dt=null),Ut!==null&&Us(Ut)&&(Ut=null),Fn.forEach(iu),Bn.forEach(iu)}function pn(t,e){t.blockedOn===e&&(t.blockedOn=null,Ho||(Ho=!0,De.unstable_scheduleCallback(De.unstable_NormalPriority,fg)))}function Mn(t){function e(s){return pn(s,t)}if(0<gs.length){pn(gs[0],t);for(var r=1;r<gs.length;r++){var n=gs[r];n.blockedOn===t&&(n.blockedOn=null)}}for($t!==null&&pn($t,t),Dt!==null&&pn(Dt,t),Ut!==null&&pn(Ut,t),Fn.forEach(e),Bn.forEach(e),r=0;r<Pt.length;r++)n=Pt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Pt.length&&(r=Pt[0],r.blockedOn===null);)Cd(r),r.blockedOn===null&&Pt.shift()}var Hr=kt.ReactCurrentBatchConfig,ei=!0;function pg(t,e,r,n){var s=W,i=Hr.transition;Hr.transition=null;try{W=1,qa(t,e,r,n)}finally{W=s,Hr.transition=i}}function gg(t,e,r,n){var s=W,i=Hr.transition;Hr.transition=null;try{W=4,qa(t,e,r,n)}finally{W=s,Hr.transition=i}}function qa(t,e,r,n){if(ei){var s=Ko(t,e,r,n);if(s===null)oo(t,e,n,ti,r),su(t,n);else if(hg(s,t,e,r,n))n.stopPropagation();else if(su(t,n),e&4&&-1<dg.indexOf(t)){for(;s!==null;){var i=is(s);if(i!==null&&Ed(i),i=Ko(t,e,r,n),i===null&&oo(t,e,n,ti,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else oo(t,e,n,null,r)}}var ti=null;function Ko(t,e,r,n){if(ti=null,t=Wa(n),t=ir(t),t!==null)if(e=vr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ti=t,null}function Od(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rg()){case Ha:return 1;case wd:return 4;case Xs:case ng:return 16;case _d:return 536870912;default:return 16}default:return 16}}var It=null,Ja=null,Fs=null;function Td(){if(Fs)return Fs;var t,e=Ja,r=e.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Fs=s.slice(t,1<n?1-n:void 0)}function Bs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ms(){return!0}function ou(){return!1}function Fe(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ms:ou,this.isPropagationStopped=ou,this}return te(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),e}var sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=Fe(sn),ss=te({},sn,{view:0,detail:0}),mg=Fe(ss),Yi,Xi,gn,Oi=te({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gn&&(gn&&t.type==="mousemove"?(Yi=t.screenX-gn.screenX,Xi=t.screenY-gn.screenY):Xi=Yi=0,gn=t),Yi)},movementY:function(t){return"movementY"in t?t.movementY:Xi}}),au=Fe(Oi),vg=te({},Oi,{dataTransfer:0}),yg=Fe(vg),wg=te({},ss,{relatedTarget:0}),Zi=Fe(wg),_g=te({},sn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=Fe(_g),xg=te({},sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eg=Fe(xg),kg=te({},sn,{data:0}),lu=Fe(kg),bg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Cg[t])?!!e[t]:!1}function Ya(){return Og}var Tg=te({},ss,{key:function(t){if(t.key){var e=bg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(t){return t.type==="keypress"?Bs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rg=Fe(Tg),Pg=te({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uu=Fe(Pg),Ng=te({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Ag=Fe(Ng),Ig=te({},sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lg=Fe(Ig),$g=te({},Oi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dg=Fe($g),Ug=[9,13,27,32],Xa=_t&&"CompositionEvent"in window,Cn=null;_t&&"documentMode"in document&&(Cn=document.documentMode);var Fg=_t&&"TextEvent"in window&&!Cn,Rd=_t&&(!Xa||Cn&&8<Cn&&11>=Cn),cu=" ",du=!1;function Pd(t,e){switch(t){case"keyup":return Ug.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nr=!1;function Bg(t,e){switch(t){case"compositionend":return Nd(e);case"keypress":return e.which!==32?null:(du=!0,cu);case"textInput":return t=e.data,t===cu&&du?null:t;default:return null}}function Mg(t,e){if(Nr)return t==="compositionend"||!Xa&&Pd(t,e)?(t=Td(),Fs=Ja=It=null,Nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rd&&e.locale!=="ko"?null:e.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zg[t.type]:e==="textarea"}function Ad(t,e,r,n){cd(n),e=ri(e,"onChange"),0<e.length&&(r=new Qa("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var On=null,zn=null;function Vg(t){Wd(t,0)}function Ti(t){var e=Lr(t);if(nd(e))return t}function Wg(t,e){if(t==="change")return e}var Id=!1;if(_t){var eo;if(_t){var to="oninput"in document;if(!to){var fu=document.createElement("div");fu.setAttribute("oninput","return;"),to=typeof fu.oninput=="function"}eo=to}else eo=!1;Id=eo&&(!document.documentMode||9<document.documentMode)}function pu(){On&&(On.detachEvent("onpropertychange",Ld),zn=On=null)}function Ld(t){if(t.propertyName==="value"&&Ti(zn)){var e=[];Ad(e,zn,t,Wa(t)),pd(Vg,e)}}function Hg(t,e,r){t==="focusin"?(pu(),On=e,zn=r,On.attachEvent("onpropertychange",Ld)):t==="focusout"&&pu()}function Kg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ti(zn)}function Gg(t,e){if(t==="click")return Ti(e)}function qg(t,e){if(t==="input"||t==="change")return Ti(e)}function Jg(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var it=typeof Object.is=="function"?Object.is:Jg;function Vn(t,e){if(it(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Oo.call(e,s)||!it(t[s],e[s]))return!1}return!0}function gu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mu(t,e){var r=gu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gu(r)}}function $d(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$d(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Dd(){for(var t=window,e=Js();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Js(t.document)}return e}function Za(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qg(t){var e=Dd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&$d(r.ownerDocument.documentElement,r)){if(n!==null&&Za(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=mu(r,i);var o=mu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yg=_t&&"documentMode"in document&&11>=document.documentMode,Ar=null,Go=null,Tn=null,qo=!1;function vu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qo||Ar==null||Ar!==Js(n)||(n=Ar,"selectionStart"in n&&Za(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Tn&&Vn(Tn,n)||(Tn=n,n=ri(Go,"onSelect"),0<n.length&&(e=new Qa("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ar)))}function vs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ir={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},ro={},Ud={};_t&&(Ud=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function Ri(t){if(ro[t])return ro[t];if(!Ir[t])return t;var e=Ir[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Ud)return ro[t]=e[r];return t}var Fd=Ri("animationend"),Bd=Ri("animationiteration"),Md=Ri("animationstart"),zd=Ri("transitionend"),Vd=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){Vd.set(t,e),mr(e,[t])}for(var no=0;no<yu.length;no++){var so=yu[no],Xg=so.toLowerCase(),Zg=so[0].toUpperCase()+so.slice(1);Kt(Xg,"on"+Zg)}Kt(Fd,"onAnimationEnd");Kt(Bd,"onAnimationIteration");Kt(Md,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(zd,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),em=new Set("cancel close invalid load scroll toggle".split(" ").concat(xn));function wu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Xp(n,e,void 0,t),t.currentTarget=null}function Wd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;wu(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;wu(s,a,u),i=l}}}if(Ys)throw t=Vo,Ys=!1,Vo=null,t}function q(t,e){var r=e[Zo];r===void 0&&(r=e[Zo]=new Set);var n=t+"__bubble";r.has(n)||(Hd(e,t,2,!1),r.add(n))}function io(t,e,r){var n=0;e&&(n|=4),Hd(r,t,n,e)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Wn(t){if(!t[ys]){t[ys]=!0,Xc.forEach(function(r){r!=="selectionchange"&&(em.has(r)||io(r,!1,t),io(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ys]||(e[ys]=!0,io("selectionchange",!1,e))}}function Hd(t,e,r,n){switch(Od(e)){case 1:var s=pg;break;case 4:s=gg;break;default:s=qa}r=s.bind(null,e,r,t),s=void 0,!zo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function oo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ir(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}pd(function(){var u=i,d=Wa(r),f=[];e:{var h=Vd.get(t);if(h!==void 0){var v=Qa,y=t;switch(t){case"keypress":if(Bs(r)===0)break e;case"keydown":case"keyup":v=Rg;break;case"focusin":y="focus",v=Zi;break;case"focusout":y="blur",v=Zi;break;case"beforeblur":case"afterblur":v=Zi;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=au;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ag;break;case Fd:case Bd:case Md:v=Sg;break;case zd:v=Lg;break;case"scroll":v=mg;break;case"wheel":v=Dg;break;case"copy":case"cut":case"paste":v=Eg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=uu}var w=(e&4)!==0,S=!w&&t==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var c=u,g;c!==null;){g=c;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Un(c,m),_!=null&&w.push(Hn(c,_,g)))),S)break;c=c.return}0<w.length&&(h=new v(h,y,null,r,d),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",h&&r!==Bo&&(y=r.relatedTarget||r.fromElement)&&(ir(y)||y[St]))break e;if((v||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?ir(y):null,y!==null&&(S=vr(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=au,_="onMouseLeave",m="onMouseEnter",c="mouse",(t==="pointerout"||t==="pointerover")&&(w=uu,_="onPointerLeave",m="onPointerEnter",c="pointer"),S=v==null?h:Lr(v),g=y==null?h:Lr(y),h=new w(_,c+"leave",v,r,d),h.target=S,h.relatedTarget=g,_=null,ir(d)===u&&(w=new w(m,c+"enter",y,r,d),w.target=g,w.relatedTarget=S,_=w),S=_,v&&y)t:{for(w=v,m=y,c=0,g=w;g;g=Sr(g))c++;for(g=0,_=m;_;_=Sr(_))g++;for(;0<c-g;)w=Sr(w),c--;for(;0<g-c;)m=Sr(m),g--;for(;c--;){if(w===m||m!==null&&w===m.alternate)break t;w=Sr(w),m=Sr(m)}w=null}else w=null;v!==null&&_u(f,h,v,w,!1),y!==null&&S!==null&&_u(f,S,y,w,!0)}}e:{if(h=u?Lr(u):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var x=Wg;else if(hu(h))if(Id)x=qg;else{x=Kg;var b=Hg}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Gg);if(x&&(x=x(t,u))){Ad(f,x,r,d);break e}b&&b(t,h,u),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&Lo(h,"number",h.value)}switch(b=u?Lr(u):window,t){case"focusin":(hu(b)||b.contentEditable==="true")&&(Ar=b,Go=u,Tn=null);break;case"focusout":Tn=Go=Ar=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,vu(f,r,d);break;case"selectionchange":if(Yg)break;case"keydown":case"keyup":vu(f,r,d)}var j;if(Xa)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Nr?Pd(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Rd&&r.locale!=="ko"&&(Nr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Nr&&(j=Td()):(It=d,Ja="value"in It?It.value:It.textContent,Nr=!0)),b=ri(u,T),0<b.length&&(T=new lu(T,t,null,r,d),f.push({event:T,listeners:b}),j?T.data=j:(j=Nd(r),j!==null&&(T.data=j)))),(j=Fg?Bg(t,r):Mg(t,r))&&(u=ri(u,"onBeforeInput"),0<u.length&&(d=new lu("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=j))}Wd(f,e)})}function Hn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ri(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Un(t,r),i!=null&&n.unshift(Hn(t,i,s)),i=Un(t,e),i!=null&&n.push(Hn(t,i,s))),t=t.return}return n}function Sr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _u(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=Un(r,i),l!=null&&o.unshift(Hn(r,l,a))):s||(l=Un(r,i),l!=null&&o.push(Hn(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var tm=/\r\n?/g,rm=/\u0000|\uFFFD/g;function Su(t){return(typeof t=="string"?t:""+t).replace(tm,`
`).replace(rm,"")}function ws(t,e,r){if(e=Su(e),Su(t)!==e&&r)throw Error(E(425))}function ni(){}var Jo=null,Qo=null;function Yo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xo=typeof setTimeout=="function"?setTimeout:void 0,nm=typeof clearTimeout=="function"?clearTimeout:void 0,xu=typeof Promise=="function"?Promise:void 0,sm=typeof queueMicrotask=="function"?queueMicrotask:typeof xu<"u"?function(t){return xu.resolve(null).then(t).catch(im)}:Xo;function im(t){setTimeout(function(){throw t})}function ao(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Mn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Mn(e)}function Ft(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Eu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var on=Math.random().toString(36).slice(2),ct="__reactFiber$"+on,Kn="__reactProps$"+on,St="__reactContainer$"+on,Zo="__reactEvents$"+on,om="__reactListeners$"+on,am="__reactHandles$"+on;function ir(t){var e=t[ct];if(e)return e;for(var r=t.parentNode;r;){if(e=r[St]||r[ct]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Eu(t);t!==null;){if(r=t[ct])return r;t=Eu(t)}return e}t=r,r=t.parentNode}return null}function is(t){return t=t[ct]||t[St],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Pi(t){return t[Kn]||null}var ea=[],$r=-1;function Gt(t){return{current:t}}function J(t){0>$r||(t.current=ea[$r],ea[$r]=null,$r--)}function G(t,e){$r++,ea[$r]=t.current,t.current=e}var Ht={},we=Gt(Ht),Oe=Gt(!1),dr=Ht;function Qr(t,e){var r=t.type.contextTypes;if(!r)return Ht;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Te(t){return t=t.childContextTypes,t!=null}function si(){J(Oe),J(we)}function ku(t,e,r){if(we.current!==Ht)throw Error(E(168));G(we,e),G(Oe,r)}function Kd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,Hp(t)||"Unknown",s));return te({},r,n)}function ii(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ht,dr=we.current,G(we,t),G(Oe,Oe.current),!0}function bu(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Kd(t,e,dr),n.__reactInternalMemoizedMergedChildContext=t,J(Oe),J(we),G(we,t)):J(Oe),G(Oe,r)}var mt=null,Ni=!1,lo=!1;function Gd(t){mt===null?mt=[t]:mt.push(t)}function lm(t){Ni=!0,Gd(t)}function qt(){if(!lo&&mt!==null){lo=!0;var t=0,e=W;try{var r=mt;for(W=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}mt=null,Ni=!1}catch(s){throw mt!==null&&(mt=mt.slice(t+1)),yd(Ha,qt),s}finally{W=e,lo=!1}}return null}var Dr=[],Ur=0,oi=null,ai=0,ze=[],Ve=0,hr=null,vt=1,yt="";function Zt(t,e){Dr[Ur++]=ai,Dr[Ur++]=oi,oi=t,ai=e}function qd(t,e,r){ze[Ve++]=vt,ze[Ve++]=yt,ze[Ve++]=hr,hr=t;var n=vt;t=yt;var s=32-nt(n)-1;n&=~(1<<s),r+=1;var i=32-nt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,vt=1<<32-nt(e)+s|r<<s|n,yt=i+t}else vt=1<<i|r<<s|n,yt=t}function el(t){t.return!==null&&(Zt(t,1),qd(t,1,0))}function tl(t){for(;t===oi;)oi=Dr[--Ur],Dr[Ur]=null,ai=Dr[--Ur],Dr[Ur]=null;for(;t===hr;)hr=ze[--Ve],ze[Ve]=null,yt=ze[--Ve],ze[Ve]=null,vt=ze[--Ve],ze[Ve]=null}var $e=null,Le=null,Q=!1,rt=null;function Jd(t,e){var r=We(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ju(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Le=Ft(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Le=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=hr!==null?{id:vt,overflow:yt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=We(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,$e=t,Le=null,!0):!1;default:return!1}}function ta(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ra(t){if(Q){var e=Le;if(e){var r=e;if(!ju(t,e)){if(ta(t))throw Error(E(418));e=Ft(r.nextSibling);var n=$e;e&&ju(t,e)?Jd(n,r):(t.flags=t.flags&-4097|2,Q=!1,$e=t)}}else{if(ta(t))throw Error(E(418));t.flags=t.flags&-4097|2,Q=!1,$e=t}}}function Cu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function _s(t){if(t!==$e)return!1;if(!Q)return Cu(t),Q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yo(t.type,t.memoizedProps)),e&&(e=Le)){if(ta(t))throw Qd(),Error(E(418));for(;e;)Jd(t,e),e=Ft(e.nextSibling)}if(Cu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Le=Ft(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Le=null}}else Le=$e?Ft(t.stateNode.nextSibling):null;return!0}function Qd(){for(var t=Le;t;)t=Ft(t.nextSibling)}function Yr(){Le=$e=null,Q=!1}function rl(t){rt===null?rt=[t]:rt.push(t)}var um=kt.ReactCurrentBatchConfig;function mn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function Ss(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ou(t){var e=t._init;return e(t._payload)}function Yd(t){function e(m,c){if(t){var g=m.deletions;g===null?(m.deletions=[c],m.flags|=16):g.push(c)}}function r(m,c){if(!t)return null;for(;c!==null;)e(m,c),c=c.sibling;return null}function n(m,c){for(m=new Map;c!==null;)c.key!==null?m.set(c.key,c):m.set(c.index,c),c=c.sibling;return m}function s(m,c){return m=Vt(m,c),m.index=0,m.sibling=null,m}function i(m,c,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<c?(m.flags|=2,c):g):(m.flags|=2,c)):(m.flags|=1048576,c)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,c,g,_){return c===null||c.tag!==6?(c=mo(g,m.mode,_),c.return=m,c):(c=s(c,g),c.return=m,c)}function l(m,c,g,_){var x=g.type;return x===Pr?d(m,c,g.props.children,_,g.key):c!==null&&(c.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Tt&&Ou(x)===c.type)?(_=s(c,g.props),_.ref=mn(m,c,g),_.return=m,_):(_=Gs(g.type,g.key,g.props,null,m.mode,_),_.ref=mn(m,c,g),_.return=m,_)}function u(m,c,g,_){return c===null||c.tag!==4||c.stateNode.containerInfo!==g.containerInfo||c.stateNode.implementation!==g.implementation?(c=vo(g,m.mode,_),c.return=m,c):(c=s(c,g.children||[]),c.return=m,c)}function d(m,c,g,_,x){return c===null||c.tag!==7?(c=cr(g,m.mode,_,x),c.return=m,c):(c=s(c,g),c.return=m,c)}function f(m,c,g){if(typeof c=="string"&&c!==""||typeof c=="number")return c=mo(""+c,m.mode,g),c.return=m,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case cs:return g=Gs(c.type,c.key,c.props,null,m.mode,g),g.ref=mn(m,null,c),g.return=m,g;case Rr:return c=vo(c,m.mode,g),c.return=m,c;case Tt:var _=c._init;return f(m,_(c._payload),g)}if(_n(c)||dn(c))return c=cr(c,m.mode,g,null),c.return=m,c;Ss(m,c)}return null}function h(m,c,g,_){var x=c!==null?c.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:a(m,c,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cs:return g.key===x?l(m,c,g,_):null;case Rr:return g.key===x?u(m,c,g,_):null;case Tt:return x=g._init,h(m,c,x(g._payload),_)}if(_n(g)||dn(g))return x!==null?null:d(m,c,g,_,null);Ss(m,g)}return null}function v(m,c,g,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(c,m,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case cs:return m=m.get(_.key===null?g:_.key)||null,l(c,m,_,x);case Rr:return m=m.get(_.key===null?g:_.key)||null,u(c,m,_,x);case Tt:var b=_._init;return v(m,c,g,b(_._payload),x)}if(_n(_)||dn(_))return m=m.get(g)||null,d(c,m,_,x,null);Ss(c,_)}return null}function y(m,c,g,_){for(var x=null,b=null,j=c,T=c=0,F=null;j!==null&&T<g.length;T++){j.index>T?(F=j,j=null):F=j.sibling;var B=h(m,j,g[T],_);if(B===null){j===null&&(j=F);break}t&&j&&B.alternate===null&&e(m,j),c=i(B,c,T),b===null?x=B:b.sibling=B,b=B,j=F}if(T===g.length)return r(m,j),Q&&Zt(m,T),x;if(j===null){for(;T<g.length;T++)j=f(m,g[T],_),j!==null&&(c=i(j,c,T),b===null?x=j:b.sibling=j,b=j);return Q&&Zt(m,T),x}for(j=n(m,j);T<g.length;T++)F=v(j,m,T,g[T],_),F!==null&&(t&&F.alternate!==null&&j.delete(F.key===null?T:F.key),c=i(F,c,T),b===null?x=F:b.sibling=F,b=F);return t&&j.forEach(function(be){return e(m,be)}),Q&&Zt(m,T),x}function w(m,c,g,_){var x=dn(g);if(typeof x!="function")throw Error(E(150));if(g=x.call(g),g==null)throw Error(E(151));for(var b=x=null,j=c,T=c=0,F=null,B=g.next();j!==null&&!B.done;T++,B=g.next()){j.index>T?(F=j,j=null):F=j.sibling;var be=h(m,j,B.value,_);if(be===null){j===null&&(j=F);break}t&&j&&be.alternate===null&&e(m,j),c=i(be,c,T),b===null?x=be:b.sibling=be,b=be,j=F}if(B.done)return r(m,j),Q&&Zt(m,T),x;if(j===null){for(;!B.done;T++,B=g.next())B=f(m,B.value,_),B!==null&&(c=i(B,c,T),b===null?x=B:b.sibling=B,b=B);return Q&&Zt(m,T),x}for(j=n(m,j);!B.done;T++,B=g.next())B=v(j,m,T,B.value,_),B!==null&&(t&&B.alternate!==null&&j.delete(B.key===null?T:B.key),c=i(B,c,T),b===null?x=B:b.sibling=B,b=B);return t&&j.forEach(function(Pe){return e(m,Pe)}),Q&&Zt(m,T),x}function S(m,c,g,_){if(typeof g=="object"&&g!==null&&g.type===Pr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case cs:e:{for(var x=g.key,b=c;b!==null;){if(b.key===x){if(x=g.type,x===Pr){if(b.tag===7){r(m,b.sibling),c=s(b,g.props.children),c.return=m,m=c;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Tt&&Ou(x)===b.type){r(m,b.sibling),c=s(b,g.props),c.ref=mn(m,b,g),c.return=m,m=c;break e}r(m,b);break}else e(m,b);b=b.sibling}g.type===Pr?(c=cr(g.props.children,m.mode,_,g.key),c.return=m,m=c):(_=Gs(g.type,g.key,g.props,null,m.mode,_),_.ref=mn(m,c,g),_.return=m,m=_)}return o(m);case Rr:e:{for(b=g.key;c!==null;){if(c.key===b)if(c.tag===4&&c.stateNode.containerInfo===g.containerInfo&&c.stateNode.implementation===g.implementation){r(m,c.sibling),c=s(c,g.children||[]),c.return=m,m=c;break e}else{r(m,c);break}else e(m,c);c=c.sibling}c=vo(g,m.mode,_),c.return=m,m=c}return o(m);case Tt:return b=g._init,S(m,c,b(g._payload),_)}if(_n(g))return y(m,c,g,_);if(dn(g))return w(m,c,g,_);Ss(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,c!==null&&c.tag===6?(r(m,c.sibling),c=s(c,g),c.return=m,m=c):(r(m,c),c=mo(g,m.mode,_),c.return=m,m=c),o(m)):r(m,c)}return S}var Xr=Yd(!0),Xd=Yd(!1),li=Gt(null),ui=null,Fr=null,nl=null;function sl(){nl=Fr=ui=null}function il(t){var e=li.current;J(li),t._currentValue=e}function na(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Kr(t,e){ui=t,nl=Fr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ce=!0),t.firstContext=null)}function Ke(t){var e=t._currentValue;if(nl!==t)if(t={context:t,memoizedValue:e,next:null},Fr===null){if(ui===null)throw Error(E(308));Fr=t,ui.dependencies={lanes:0,firstContext:t}}else Fr=Fr.next=t;return e}var or=null;function ol(t){or===null?or=[t]:or.push(t)}function Zd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,ol(e)):(r.next=s.next,s.next=r),e.interleaved=r,xt(t,n)}function xt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rt=!1;function al(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function eh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,V&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,xt(t,r)}return s=n.interleaved,s===null?(e.next=e,ol(n)):(e.next=s.next,s.next=e),n.interleaved=e,xt(t,r)}function Ms(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ka(t,r)}}function Tu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ci(t,e,r,n){var s=t.updateQueue;Rt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=u=l=null,a=i;do{var h=a.lane,v=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(h=e,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(v,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,h=typeof y=="function"?y.call(v,f,h):y,h==null)break e;f=te({},f,h);break e;case 2:Rt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,l=f):d=d.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);pr|=o,t.lanes=o,t.memoizedState=f}}function Ru(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var os={},ht=Gt(os),Gn=Gt(os),qn=Gt(os);function ar(t){if(t===os)throw Error(E(174));return t}function ll(t,e){switch(G(qn,e),G(Gn,t),G(ht,os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Do(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Do(e,t)}J(ht),G(ht,e)}function Zr(){J(ht),J(Gn),J(qn)}function th(t){ar(qn.current);var e=ar(ht.current),r=Do(e,t.type);e!==r&&(G(Gn,t),G(ht,r))}function ul(t){Gn.current===t&&(J(ht),J(Gn))}var Z=Gt(0);function di(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var uo=[];function cl(){for(var t=0;t<uo.length;t++)uo[t]._workInProgressVersionPrimary=null;uo.length=0}var zs=kt.ReactCurrentDispatcher,co=kt.ReactCurrentBatchConfig,fr=0,ee=null,ae=null,ue=null,hi=!1,Rn=!1,Jn=0,cm=0;function ge(){throw Error(E(321))}function dl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!it(t[r],e[r]))return!1;return!0}function hl(t,e,r,n,s,i){if(fr=i,ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zs.current=t===null||t.memoizedState===null?pm:gm,t=r(n,s),Rn){i=0;do{if(Rn=!1,Jn=0,25<=i)throw Error(E(301));i+=1,ue=ae=null,e.updateQueue=null,zs.current=mm,t=r(n,s)}while(Rn)}if(zs.current=fi,e=ae!==null&&ae.next!==null,fr=0,ue=ae=ee=null,hi=!1,e)throw Error(E(300));return t}function fl(){var t=Jn!==0;return Jn=0,t}function ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?ee.memoizedState=ue=t:ue=ue.next=t,ue}function Ge(){if(ae===null){var t=ee.alternate;t=t!==null?t.memoizedState:null}else t=ae.next;var e=ue===null?ee.memoizedState:ue.next;if(e!==null)ue=e,ae=t;else{if(t===null)throw Error(E(310));ae=t,t={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},ue===null?ee.memoizedState=ue=t:ue=ue.next=t}return ue}function Qn(t,e){return typeof e=="function"?e(t):e}function ho(t){var e=Ge(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ae,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((fr&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,ee.lanes|=d,pr|=d}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,it(n,e.memoizedState)||(Ce=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,ee.lanes|=i,pr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function fo(t){var e=Ge(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);it(i,e.memoizedState)||(Ce=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function rh(){}function nh(t,e){var r=ee,n=Ge(),s=e(),i=!it(n.memoizedState,s);if(i&&(n.memoizedState=s,Ce=!0),n=n.queue,pl(oh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Yn(9,ih.bind(null,r,n,s,e),void 0,null),ce===null)throw Error(E(349));fr&30||sh(r,e,s)}return s}function sh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ih(t,e,r,n){e.value=r,e.getSnapshot=n,ah(e)&&lh(t)}function oh(t,e,r){return r(function(){ah(e)&&lh(t)})}function ah(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!it(t,r)}catch{return!0}}function lh(t){var e=xt(t,1);e!==null&&st(e,t,1,-1)}function Pu(t){var e=ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qn,lastRenderedState:t},e.queue=t,t=t.dispatch=fm.bind(null,ee,t),[e.memoizedState,t]}function Yn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ee.updateQueue,e===null?(e={lastEffect:null,stores:null},ee.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function uh(){return Ge().memoizedState}function Vs(t,e,r,n){var s=ut();ee.flags|=t,s.memoizedState=Yn(1|e,r,void 0,n===void 0?null:n)}function Ai(t,e,r,n){var s=Ge();n=n===void 0?null:n;var i=void 0;if(ae!==null){var o=ae.memoizedState;if(i=o.destroy,n!==null&&dl(n,o.deps)){s.memoizedState=Yn(e,r,i,n);return}}ee.flags|=t,s.memoizedState=Yn(1|e,r,i,n)}function Nu(t,e){return Vs(8390656,8,t,e)}function pl(t,e){return Ai(2048,8,t,e)}function ch(t,e){return Ai(4,2,t,e)}function dh(t,e){return Ai(4,4,t,e)}function hh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fh(t,e,r){return r=r!=null?r.concat([t]):null,Ai(4,4,hh.bind(null,e,t),r)}function gl(){}function ph(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function gh(t,e){var r=Ge();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function mh(t,e,r){return fr&21?(it(r,e)||(r=Sd(),ee.lanes|=r,pr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ce=!0),t.memoizedState=r)}function dm(t,e){var r=W;W=r!==0&&4>r?r:4,t(!0);var n=co.transition;co.transition={};try{t(!1),e()}finally{W=r,co.transition=n}}function vh(){return Ge().memoizedState}function hm(t,e,r){var n=zt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yh(t))wh(e,r);else if(r=Zd(t,e,r,n),r!==null){var s=xe();st(r,t,n,s),_h(r,e,n)}}function fm(t,e,r){var n=zt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yh(t))wh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,it(a,o)){var l=e.interleaved;l===null?(s.next=s,ol(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=Zd(t,e,s,n),r!==null&&(s=xe(),st(r,t,n,s),_h(r,e,n))}}function yh(t){var e=t.alternate;return t===ee||e!==null&&e===ee}function wh(t,e){Rn=hi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function _h(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ka(t,r)}}var fi={readContext:Ke,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},pm={readContext:Ke,useCallback:function(t,e){return ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ke,useEffect:Nu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vs(4194308,4,hh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vs(4,2,t,e)},useMemo:function(t,e){var r=ut();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ut();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=hm.bind(null,ee,t),[n.memoizedState,t]},useRef:function(t){var e=ut();return t={current:t},e.memoizedState=t},useState:Pu,useDebugValue:gl,useDeferredValue:function(t){return ut().memoizedState=t},useTransition:function(){var t=Pu(!1),e=t[0];return t=dm.bind(null,t[1]),ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ee,s=ut();if(Q){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),ce===null)throw Error(E(349));fr&30||sh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Nu(oh.bind(null,n,i,t),[t]),n.flags|=2048,Yn(9,ih.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ut(),e=ce.identifierPrefix;if(Q){var r=yt,n=vt;r=(n&~(1<<32-nt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Jn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gm={readContext:Ke,useCallback:ph,useContext:Ke,useEffect:pl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:gh,useReducer:ho,useRef:uh,useState:function(){return ho(Qn)},useDebugValue:gl,useDeferredValue:function(t){var e=Ge();return mh(e,ae.memoizedState,t)},useTransition:function(){var t=ho(Qn)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:rh,useSyncExternalStore:nh,useId:vh,unstable_isNewReconciler:!1},mm={readContext:Ke,useCallback:ph,useContext:Ke,useEffect:pl,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:dh,useMemo:gh,useReducer:fo,useRef:uh,useState:function(){return fo(Qn)},useDebugValue:gl,useDeferredValue:function(t){var e=Ge();return ae===null?e.memoizedState=t:mh(e,ae.memoizedState,t)},useTransition:function(){var t=fo(Qn)[0],e=Ge().memoizedState;return[t,e]},useMutableSource:rh,useSyncExternalStore:nh,useId:vh,unstable_isNewReconciler:!1};function Ze(t,e){if(t&&t.defaultProps){e=te({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function sa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:te({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ii={isMounted:function(t){return(t=t._reactInternals)?vr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=xe(),s=zt(t),i=wt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Bt(t,i,s),e!==null&&(st(e,t,s,n),Ms(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=xe(),s=zt(t),i=wt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Bt(t,i,s),e!==null&&(st(e,t,s,n),Ms(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=xe(),n=zt(t),s=wt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Bt(t,s,n),e!==null&&(st(e,t,n,r),Ms(e,t,n))}};function Au(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!Vn(r,n)||!Vn(s,i):!0}function Sh(t,e,r){var n=!1,s=Ht,i=e.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Te(e)?dr:we.current,n=e.contextTypes,i=(n=n!=null)?Qr(t,s):Ht),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ii,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Iu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ii.enqueueReplaceState(e,e.state,null)}function ia(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},al(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Te(e)?dr:we.current,s.context=Qr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(sa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ii.enqueueReplaceState(s,s.state,null),ci(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function en(t,e){try{var r="",n=e;do r+=Wp(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function po(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function oa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vm=typeof WeakMap=="function"?WeakMap:Map;function xh(t,e,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){gi||(gi=!0,ma=n),oa(t,e)},r}function Eh(t,e,r){r=wt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){oa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){oa(t,e),typeof n!="function"&&(Mt===null?Mt=new Set([this]):Mt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Lu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new vm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=Pm.bind(null,t,e,r),e.then(t,t))}function $u(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Du(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wt(-1,1),e.tag=2,Bt(r,e,1))),r.lanes|=1),t)}var ym=kt.ReactCurrentOwner,Ce=!1;function _e(t,e,r,n){e.child=t===null?Xd(e,null,r,n):Xr(e,t.child,r,n)}function Uu(t,e,r,n,s){r=r.render;var i=e.ref;return Kr(e,s),n=hl(t,e,r,n,i,s),r=fl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(Q&&r&&el(e),e.flags|=1,_e(t,e,n,s),e.child)}function Fu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!El(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,kh(t,e,i,n,s)):(t=Gs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vn,r(o,n)&&t.ref===e.ref)return Et(t,e,s)}return e.flags|=1,t=Vt(i,n),t.ref=e.ref,t.return=e,e.child=t}function kh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Vn(i,n)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ce=!0);else return e.lanes=t.lanes,Et(t,e,s)}return aa(t,e,r,n,s)}function bh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(Mr,Ne),Ne|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,G(Mr,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,G(Mr,Ne),Ne|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,G(Mr,Ne),Ne|=n;return _e(t,e,s,r),e.child}function jh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function aa(t,e,r,n,s){var i=Te(r)?dr:we.current;return i=Qr(e,i),Kr(e,s),r=hl(t,e,r,n,i,s),n=fl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(Q&&n&&el(e),e.flags|=1,_e(t,e,r,s),e.child)}function Bu(t,e,r,n,s){if(Te(r)){var i=!0;ii(e)}else i=!1;if(Kr(e,s),e.stateNode===null)Ws(t,e),Sh(e,r,n),ia(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Te(r)?dr:we.current,u=Qr(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Iu(e,o,n,u),Rt=!1;var h=e.memoizedState;o.state=h,ci(e,n,o,s),l=e.memoizedState,a!==n||h!==l||Oe.current||Rt?(typeof d=="function"&&(sa(e,r,d,n),l=e.memoizedState),(a=Rt||Au(e,r,a,n,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,eh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ze(e.type,a),o.props=u,f=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ke(l):(l=Te(r)?dr:we.current,l=Qr(e,l));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Iu(e,o,n,l),Rt=!1,h=e.memoizedState,o.state=h,ci(e,n,o,s);var y=e.memoizedState;a!==f||h!==y||Oe.current||Rt?(typeof v=="function"&&(sa(e,r,v,n),y=e.memoizedState),(u=Rt||Au(e,r,u,n,h,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return la(t,e,r,n,i,s)}function la(t,e,r,n,s,i){jh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&bu(e,r,!1),Et(t,e,i);n=e.stateNode,ym.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Xr(e,t.child,null,i),e.child=Xr(e,null,a,i)):_e(t,e,a,i),e.memoizedState=n.state,s&&bu(e,r,!0),e.child}function Ch(t){var e=t.stateNode;e.pendingContext?ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ku(t,e.context,!1),ll(t,e.containerInfo)}function Mu(t,e,r,n,s){return Yr(),rl(s),e.flags|=256,_e(t,e,r,n),e.child}var ua={dehydrated:null,treeContext:null,retryLane:0};function ca(t){return{baseLanes:t,cachePool:null,transitions:null}}function Oh(t,e,r){var n=e.pendingProps,s=Z.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),G(Z,s&1),t===null)return ra(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Di(o,n,0,null),t=cr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ca(r),e.memoizedState=ua,t):ml(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return wm(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Vt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vt(a,i):(i=cr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ca(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ua,n}return i=t.child,t=i.sibling,n=Vt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ml(t,e){return e=Di({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xs(t,e,r,n){return n!==null&&rl(n),Xr(e,t.child,null,r),t=ml(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wm(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=po(Error(E(422))),xs(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Di({mode:"visible",children:n.children},s,0,null),i=cr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Xr(e,t.child,null,o),e.child.memoizedState=ca(o),e.memoizedState=ua,i);if(!(e.mode&1))return xs(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=po(i,n,void 0),xs(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ce||a){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,xt(t,s),st(n,t,s,-1))}return xl(),n=po(Error(E(421))),xs(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Nm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Le=Ft(s.nextSibling),$e=e,Q=!0,rt=null,t!==null&&(ze[Ve++]=vt,ze[Ve++]=yt,ze[Ve++]=hr,vt=t.id,yt=t.overflow,hr=e),e=ml(e,n.children),e.flags|=4096,e)}function zu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),na(t.return,e,r)}function go(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Th(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(_e(t,e,n.children,r),n=Z.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zu(t,r,e);else if(t.tag===19)zu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(G(Z,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&di(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),go(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&di(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}go(e,!0,r,null,i);break;case"together":go(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ws(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),pr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Vt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _m(t,e,r){switch(e.tag){case 3:Ch(e),Yr();break;case 5:th(e);break;case 1:Te(e.type)&&ii(e);break;case 4:ll(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;G(li,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(G(Z,Z.current&1),e.flags|=128,null):r&e.child.childLanes?Oh(t,e,r):(G(Z,Z.current&1),t=Et(t,e,r),t!==null?t.sibling:null);G(Z,Z.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Th(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),G(Z,Z.current),n)break;return null;case 22:case 23:return e.lanes=0,bh(t,e,r)}return Et(t,e,r)}var Rh,da,Ph,Nh;Rh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};da=function(){};Ph=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ar(ht.current);var i=null;switch(r){case"input":s=Ao(t,s),n=Ao(t,n),i=[];break;case"select":s=te({},s,{value:void 0}),n=te({},n,{value:void 0}),i=[];break;case"textarea":s=$o(t,s),n=$o(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=ni)}Uo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($n.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($n.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Nh=function(t,e,r,n){r!==n&&(e.flags|=4)};function vn(t,e){if(!Q)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function me(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Sm(t,e,r){var n=e.pendingProps;switch(tl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(e),null;case 1:return Te(e.type)&&si(),me(e),null;case 3:return n=e.stateNode,Zr(),J(Oe),J(we),cl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_s(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rt!==null&&(wa(rt),rt=null))),da(t,e),me(e),null;case 5:ul(e);var s=ar(qn.current);if(r=e.type,t!==null&&e.stateNode!=null)Ph(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return me(e),null}if(t=ar(ht.current),_s(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ct]=e,n[Kn]=i,t=(e.mode&1)!==0,r){case"dialog":q("cancel",n),q("close",n);break;case"iframe":case"object":case"embed":q("load",n);break;case"video":case"audio":for(s=0;s<xn.length;s++)q(xn[s],n);break;case"source":q("error",n);break;case"img":case"image":case"link":q("error",n),q("load",n);break;case"details":q("toggle",n);break;case"input":Yl(n,i),q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},q("invalid",n);break;case"textarea":Zl(n,i),q("invalid",n)}Uo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&ws(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ws(n.textContent,a,t),s=["children",""+a]):$n.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&q("scroll",n)}switch(r){case"input":ds(n),Xl(n,i,!0);break;case"textarea":ds(n),eu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ni)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=od(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ct]=e,t[Kn]=n,Rh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Fo(r,n),r){case"dialog":q("cancel",t),q("close",t),s=n;break;case"iframe":case"object":case"embed":q("load",t),s=n;break;case"video":case"audio":for(s=0;s<xn.length;s++)q(xn[s],t);s=n;break;case"source":q("error",t),s=n;break;case"img":case"image":case"link":q("error",t),q("load",t),s=n;break;case"details":q("toggle",t),s=n;break;case"input":Yl(t,n),s=Ao(t,n),q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=te({},n,{value:void 0}),q("invalid",t);break;case"textarea":Zl(t,n),s=$o(t,n),q("invalid",t);break;default:s=n}Uo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ud(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ad(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Dn(t,l):typeof l=="number"&&Dn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($n.hasOwnProperty(i)?l!=null&&i==="onScroll"&&q("scroll",t):l!=null&&Ba(t,i,l,o))}switch(r){case"input":ds(t),Xl(t,n,!1);break;case"textarea":ds(t),eu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Wt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?zr(t,!!n.multiple,i,!1):n.defaultValue!=null&&zr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ni)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return me(e),null;case 6:if(t&&e.stateNode!=null)Nh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=ar(qn.current),ar(ht.current),_s(e)){if(n=e.stateNode,r=e.memoizedProps,n[ct]=e,(i=n.nodeValue!==r)&&(t=$e,t!==null))switch(t.tag){case 3:ws(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ct]=e,e.stateNode=n}return me(e),null;case 13:if(J(Z),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Q&&Le!==null&&e.mode&1&&!(e.flags&128))Qd(),Yr(),e.flags|=98560,i=!1;else if(i=_s(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ct]=e}else Yr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;me(e),i=!1}else rt!==null&&(wa(rt),rt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Z.current&1?le===0&&(le=3):xl())),e.updateQueue!==null&&(e.flags|=4),me(e),null);case 4:return Zr(),da(t,e),t===null&&Wn(e.stateNode.containerInfo),me(e),null;case 10:return il(e.type._context),me(e),null;case 17:return Te(e.type)&&si(),me(e),null;case 19:if(J(Z),i=e.memoizedState,i===null)return me(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)vn(i,!1);else{if(le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=di(t),o!==null){for(e.flags|=128,vn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return G(Z,Z.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>tn&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304)}else{if(!n)if(t=di(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Q)return me(e),null}else 2*ne()-i.renderingStartTime>tn&&r!==1073741824&&(e.flags|=128,n=!0,vn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,r=Z.current,G(Z,n?r&1|2:r&1),e):(me(e),null);case 22:case 23:return Sl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ne&1073741824&&(me(e),e.subtreeFlags&6&&(e.flags|=8192)):me(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function xm(t,e){switch(tl(e),e.tag){case 1:return Te(e.type)&&si(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Zr(),J(Oe),J(we),cl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ul(e),null;case 13:if(J(Z),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));Yr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(Z),null;case 4:return Zr(),null;case 10:return il(e.type._context),null;case 22:case 23:return Sl(),null;case 24:return null;default:return null}}var Es=!1,ye=!1,Em=typeof WeakSet=="function"?WeakSet:Set,R=null;function Br(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(t,e,n)}else r.current=null}function ha(t,e,r){try{r()}catch(n){re(t,e,n)}}var Vu=!1;function km(t,e){if(Jo=ei,t=Dd(),Za(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)h=f,f=v;for(;;){if(f===t)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(l=o),(v=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qo={focusedElem:t,selectionRange:r},ei=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,S=y.memoizedState,m=e.stateNode,c=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Ze(e.type,w),S);m.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return y=Vu,Vu=!1,y}function Pn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ha(e,r,i)}s=s.next}while(s!==n)}}function Li(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function fa(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ah(t){var e=t.alternate;e!==null&&(t.alternate=null,Ah(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ct],delete e[Kn],delete e[Zo],delete e[om],delete e[am])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ih(t){return t.tag===5||t.tag===3||t.tag===4}function Wu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ih(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pa(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=ni));else if(n!==4&&(t=t.child,t!==null))for(pa(t,e,r),t=t.sibling;t!==null;)pa(t,e,r),t=t.sibling}function ga(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ga(t,e,r),t=t.sibling;t!==null;)ga(t,e,r),t=t.sibling}var he=null,tt=!1;function Ct(t,e,r){for(r=r.child;r!==null;)Lh(t,e,r),r=r.sibling}function Lh(t,e,r){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Ci,r)}catch{}switch(r.tag){case 5:ye||Br(r,e);case 6:var n=he,s=tt;he=null,Ct(t,e,r),he=n,tt=s,he!==null&&(tt?(t=he,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(tt?(t=he,r=r.stateNode,t.nodeType===8?ao(t.parentNode,r):t.nodeType===1&&ao(t,r),Mn(t)):ao(he,r.stateNode));break;case 4:n=he,s=tt,he=r.stateNode.containerInfo,tt=!0,Ct(t,e,r),he=n,tt=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ha(r,e,o),s=s.next}while(s!==n)}Ct(t,e,r);break;case 1:if(!ye&&(Br(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){re(r,e,a)}Ct(t,e,r);break;case 21:Ct(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Ct(t,e,r),ye=n):Ct(t,e,r);break;default:Ct(t,e,r)}}function Hu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Em),e.forEach(function(n){var s=Am.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,tt=!1;break e;case 3:he=a.stateNode.containerInfo,tt=!0;break e;case 4:he=a.stateNode.containerInfo,tt=!0;break e}a=a.return}if(he===null)throw Error(E(160));Lh(i,o,s),he=null,tt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){re(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$h(e,t),e=e.sibling}function $h(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qe(e,t),lt(t),n&4){try{Pn(3,t,t.return),Li(3,t)}catch(w){re(t,t.return,w)}try{Pn(5,t,t.return)}catch(w){re(t,t.return,w)}}break;case 1:Qe(e,t),lt(t),n&512&&r!==null&&Br(r,r.return);break;case 5:if(Qe(e,t),lt(t),n&512&&r!==null&&Br(r,r.return),t.flags&32){var s=t.stateNode;try{Dn(s,"")}catch(w){re(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&sd(s,i),Fo(a,o);var u=Fo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?ud(s,f):d==="dangerouslySetInnerHTML"?ad(s,f):d==="children"?Dn(s,f):Ba(s,d,f,u)}switch(a){case"input":Io(s,i);break;case"textarea":id(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?zr(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?zr(s,!!i.multiple,i.defaultValue,!0):zr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kn]=i}catch(w){re(t,t.return,w)}}break;case 6:if(Qe(e,t),lt(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){re(t,t.return,w)}}break;case 3:if(Qe(e,t),lt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mn(e.containerInfo)}catch(w){re(t,t.return,w)}break;case 4:Qe(e,t),lt(t);break;case 13:Qe(e,t),lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wl=ne())),n&4&&Hu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(u=ye)||d,Qe(e,t),ye=u):Qe(e,t),lt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(R=t,d=t.child;d!==null;){for(f=R=d;R!==null;){switch(h=R,v=h.child,h.tag){case 0:case 11:case 14:case 15:Pn(4,h,h.return);break;case 1:Br(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){re(n,r,w)}}break;case 5:Br(h,h.return);break;case 22:if(h.memoizedState!==null){Gu(f);continue}}v!==null?(v.return=h,R=v):Gu(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ld("display",o))}catch(w){re(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){re(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qe(e,t),lt(t),n&4&&Hu(t);break;case 21:break;default:Qe(e,t),lt(t)}}function lt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ih(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Dn(s,""),n.flags&=-33);var i=Wu(t);ga(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Wu(t);pa(t,a,o);break;default:throw Error(E(161))}}catch(l){re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bm(t,e,r){R=t,Dh(t)}function Dh(t,e,r){for(var n=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Es;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=Es;var u=ye;if(Es=o,(ye=l)&&!u)for(R=s;R!==null;)o=R,l=o.child,o.tag===22&&o.memoizedState!==null?qu(s):l!==null?(l.return=o,R=l):qu(s);for(;i!==null;)R=i,Dh(i),i=i.sibling;R=s,Es=a,ye=u}Ku(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Ku(t)}}function Ku(t){for(;R!==null;){var e=R;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||Li(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Ze(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ru(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ru(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Mn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||e.flags&512&&fa(e)}catch(h){re(e,e.return,h)}}if(e===t){R=null;break}if(r=e.sibling,r!==null){r.return=e.return,R=r;break}R=e.return}}function Gu(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var r=e.sibling;if(r!==null){r.return=e.return,R=r;break}R=e.return}}function qu(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Li(4,e)}catch(l){re(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){re(e,s,l)}}var i=e.return;try{fa(e)}catch(l){re(e,i,l)}break;case 5:var o=e.return;try{fa(e)}catch(l){re(e,o,l)}}}catch(l){re(e,e.return,l)}if(e===t){R=null;break}var a=e.sibling;if(a!==null){a.return=e.return,R=a;break}R=e.return}}var jm=Math.ceil,pi=kt.ReactCurrentDispatcher,vl=kt.ReactCurrentOwner,He=kt.ReactCurrentBatchConfig,V=0,ce=null,ie=null,fe=0,Ne=0,Mr=Gt(0),le=0,Xn=null,pr=0,$i=0,yl=0,Nn=null,je=null,wl=0,tn=1/0,pt=null,gi=!1,ma=null,Mt=null,ks=!1,Lt=null,mi=0,An=0,va=null,Hs=-1,Ks=0;function xe(){return V&6?ne():Hs!==-1?Hs:Hs=ne()}function zt(t){return t.mode&1?V&2&&fe!==0?fe&-fe:um.transition!==null?(Ks===0&&(Ks=Sd()),Ks):(t=W,t!==0||(t=window.event,t=t===void 0?16:Od(t.type)),t):1}function st(t,e,r,n){if(50<An)throw An=0,va=null,Error(E(185));ns(t,r,n),(!(V&2)||t!==ce)&&(t===ce&&(!(V&2)&&($i|=r),le===4&&Nt(t,fe)),Re(t,n),r===1&&V===0&&!(e.mode&1)&&(tn=ne()+500,Ni&&qt()))}function Re(t,e){var r=t.callbackNode;ug(t,e);var n=Zs(t,t===ce?fe:0);if(n===0)r!==null&&nu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&nu(r),e===1)t.tag===0?lm(Ju.bind(null,t)):Gd(Ju.bind(null,t)),sm(function(){!(V&6)&&qt()}),r=null;else{switch(xd(n)){case 1:r=Ha;break;case 4:r=wd;break;case 16:r=Xs;break;case 536870912:r=_d;break;default:r=Xs}r=Hh(r,Uh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Uh(t,e){if(Hs=-1,Ks=0,V&6)throw Error(E(327));var r=t.callbackNode;if(Gr()&&t.callbackNode!==r)return null;var n=Zs(t,t===ce?fe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=vi(t,n);else{e=n;var s=V;V|=2;var i=Bh();(ce!==t||fe!==e)&&(pt=null,tn=ne()+500,ur(t,e));do try{Tm();break}catch(a){Fh(t,a)}while(!0);sl(),pi.current=i,V=s,ie!==null?e=0:(ce=null,fe=0,e=le)}if(e!==0){if(e===2&&(s=Wo(t),s!==0&&(n=s,e=ya(t,s))),e===1)throw r=Xn,ur(t,0),Nt(t,n),Re(t,ne()),r;if(e===6)Nt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Cm(s)&&(e=vi(t,n),e===2&&(i=Wo(t),i!==0&&(n=i,e=ya(t,i))),e===1))throw r=Xn,ur(t,0),Nt(t,n),Re(t,ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:er(t,je,pt);break;case 3:if(Nt(t,n),(n&130023424)===n&&(e=wl+500-ne(),10<e)){if(Zs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){xe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Xo(er.bind(null,t,je,pt),e);break}er(t,je,pt);break;case 4:if(Nt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-nt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jm(n/1960))-n,10<n){t.timeoutHandle=Xo(er.bind(null,t,je,pt),n);break}er(t,je,pt);break;case 5:er(t,je,pt);break;default:throw Error(E(329))}}}return Re(t,ne()),t.callbackNode===r?Uh.bind(null,t):null}function ya(t,e){var r=Nn;return t.current.memoizedState.isDehydrated&&(ur(t,e).flags|=256),t=vi(t,e),t!==2&&(e=je,je=r,e!==null&&wa(e)),t}function wa(t){je===null?je=t:je.push.apply(je,t)}function Cm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!it(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nt(t,e){for(e&=~yl,e&=~$i,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-nt(e),n=1<<r;t[r]=-1,e&=~n}}function Ju(t){if(V&6)throw Error(E(327));Gr();var e=Zs(t,0);if(!(e&1))return Re(t,ne()),null;var r=vi(t,e);if(t.tag!==0&&r===2){var n=Wo(t);n!==0&&(e=n,r=ya(t,n))}if(r===1)throw r=Xn,ur(t,0),Nt(t,e),Re(t,ne()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,je,pt),Re(t,ne()),null}function _l(t,e){var r=V;V|=1;try{return t(e)}finally{V=r,V===0&&(tn=ne()+500,Ni&&qt())}}function gr(t){Lt!==null&&Lt.tag===0&&!(V&6)&&Gr();var e=V;V|=1;var r=He.transition,n=W;try{if(He.transition=null,W=1,t)return t()}finally{W=n,He.transition=r,V=e,!(V&6)&&qt()}}function Sl(){Ne=Mr.current,J(Mr)}function ur(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nm(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(tl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&si();break;case 3:Zr(),J(Oe),J(we),cl();break;case 5:ul(n);break;case 4:Zr();break;case 13:J(Z);break;case 19:J(Z);break;case 10:il(n.type._context);break;case 22:case 23:Sl()}r=r.return}if(ce=t,ie=t=Vt(t.current,null),fe=Ne=e,le=0,Xn=null,yl=$i=pr=0,je=Nn=null,or!==null){for(e=0;e<or.length;e++)if(r=or[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}or=null}return t}function Fh(t,e){do{var r=ie;try{if(sl(),zs.current=fi,hi){for(var n=ee.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}hi=!1}if(fr=0,ue=ae=ee=null,Rn=!1,Jn=0,vl.current=null,r===null||r.return===null){le=1,Xn=e,ie=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=$u(o);if(v!==null){v.flags&=-257,Du(v,o,a,i,e),v.mode&1&&Lu(i,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Lu(i,u,e),xl();break e}l=Error(E(426))}}else if(Q&&a.mode&1){var S=$u(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Du(S,o,a,i,e),rl(en(l,a));break e}}i=l=en(l,a),le!==4&&(le=2),Nn===null?Nn=[i]:Nn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=xh(i,l,e);Tu(i,m);break e;case 1:a=l;var c=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof c.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mt===null||!Mt.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Eh(i,a,e);Tu(i,_);break e}}i=i.return}while(i!==null)}zh(r)}catch(x){e=x,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function Bh(){var t=pi.current;return pi.current=fi,t===null?fi:t}function xl(){(le===0||le===3||le===2)&&(le=4),ce===null||!(pr&268435455)&&!($i&268435455)||Nt(ce,fe)}function vi(t,e){var r=V;V|=2;var n=Bh();(ce!==t||fe!==e)&&(pt=null,ur(t,e));do try{Om();break}catch(s){Fh(t,s)}while(!0);if(sl(),V=r,pi.current=n,ie!==null)throw Error(E(261));return ce=null,fe=0,le}function Om(){for(;ie!==null;)Mh(ie)}function Tm(){for(;ie!==null&&!eg();)Mh(ie)}function Mh(t){var e=Wh(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?zh(t):ie=e,vl.current=null}function zh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xm(r,e),r!==null){r.flags&=32767,ie=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{le=6,ie=null;return}}else if(r=Sm(r,e,Ne),r!==null){ie=r;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);le===0&&(le=5)}function er(t,e,r){var n=W,s=He.transition;try{He.transition=null,W=1,Rm(t,e,r,n)}finally{He.transition=s,W=n}return null}function Rm(t,e,r,n){do Gr();while(Lt!==null);if(V&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(cg(t,i),t===ce&&(ie=ce=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ks||(ks=!0,Hh(Xs,function(){return Gr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=He.transition,He.transition=null;var o=W;W=1;var a=V;V|=4,vl.current=null,km(t,r),$h(r,t),Qg(Qo),ei=!!Jo,Qo=Jo=null,t.current=r,bm(r),tg(),V=a,W=o,He.transition=i}else t.current=r;if(ks&&(ks=!1,Lt=t,mi=s),i=t.pendingLanes,i===0&&(Mt=null),sg(r.stateNode),Re(t,ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(gi)throw gi=!1,t=ma,ma=null,t;return mi&1&&t.tag!==0&&Gr(),i=t.pendingLanes,i&1?t===va?An++:(An=0,va=t):An=0,qt(),null}function Gr(){if(Lt!==null){var t=xd(mi),e=He.transition,r=W;try{if(He.transition=null,W=16>t?16:t,Lt===null)var n=!1;else{if(t=Lt,Lt=null,mi=0,V&6)throw Error(E(331));var s=V;for(V|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(R=u;R!==null;){var d=R;switch(d.tag){case 0:case 11:case 15:Pn(8,d,i)}var f=d.child;if(f!==null)f.return=d,R=f;else for(;R!==null;){d=R;var h=d.sibling,v=d.return;if(Ah(d),d===u){R=null;break}if(h!==null){h.return=v,R=h;break}R=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var S=w.sibling;w.sibling=null,w=S}while(w!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,R=m;break e}R=i.return}}var c=t.current;for(R=c;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=c;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Li(9,a)}}catch(x){re(a,a.return,x)}if(a===o){R=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,R=_;break e}R=a.return}}if(V=s,qt(),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Ci,t)}catch{}n=!0}return n}finally{W=r,He.transition=e}}return!1}function Qu(t,e,r){e=en(r,e),e=xh(t,e,1),t=Bt(t,e,1),e=xe(),t!==null&&(ns(t,1,e),Re(t,e))}function re(t,e,r){if(t.tag===3)Qu(t,t,r);else for(;e!==null;){if(e.tag===3){Qu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mt===null||!Mt.has(n))){t=en(r,t),t=Eh(e,t,1),e=Bt(e,t,1),t=xe(),e!==null&&(ns(e,1,t),Re(e,t));break}}e=e.return}}function Pm(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=xe(),t.pingedLanes|=t.suspendedLanes&r,ce===t&&(fe&r)===r&&(le===4||le===3&&(fe&130023424)===fe&&500>ne()-wl?ur(t,0):yl|=r),Re(t,e)}function Vh(t,e){e===0&&(t.mode&1?(e=ps,ps<<=1,!(ps&130023424)&&(ps=4194304)):e=1);var r=xe();t=xt(t,e),t!==null&&(ns(t,e,r),Re(t,r))}function Nm(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Vh(t,r)}function Am(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),Vh(t,r)}var Wh;Wh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Oe.current)Ce=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ce=!1,_m(t,e,r);Ce=!!(t.flags&131072)}else Ce=!1,Q&&e.flags&1048576&&qd(e,ai,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ws(t,e),t=e.pendingProps;var s=Qr(e,we.current);Kr(e,r),s=hl(null,e,n,t,s,r);var i=fl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Te(n)?(i=!0,ii(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,al(e),s.updater=Ii,e.stateNode=s,s._reactInternals=e,ia(e,n,t,r),e=la(null,e,n,!0,i,r)):(e.tag=0,Q&&i&&el(e),_e(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ws(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Lm(n),t=Ze(n,t),s){case 0:e=aa(null,e,n,t,r);break e;case 1:e=Bu(null,e,n,t,r);break e;case 11:e=Uu(null,e,n,t,r);break e;case 14:e=Fu(null,e,n,Ze(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ze(n,s),aa(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ze(n,s),Bu(t,e,n,s,r);case 3:e:{if(Ch(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,eh(t,e),ci(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=en(Error(E(423)),e),e=Mu(t,e,n,r,s);break e}else if(n!==s){s=en(Error(E(424)),e),e=Mu(t,e,n,r,s);break e}else for(Le=Ft(e.stateNode.containerInfo.firstChild),$e=e,Q=!0,rt=null,r=Xd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yr(),n===s){e=Et(t,e,r);break e}_e(t,e,n,r)}e=e.child}return e;case 5:return th(e),t===null&&ra(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Yo(n,s)?o=null:i!==null&&Yo(n,i)&&(e.flags|=32),jh(t,e),_e(t,e,o,r),e.child;case 6:return t===null&&ra(e),null;case 13:return Oh(t,e,r);case 4:return ll(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xr(e,null,n,r):_e(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ze(n,s),Uu(t,e,n,s,r);case 7:return _e(t,e,e.pendingProps,r),e.child;case 8:return _e(t,e,e.pendingProps.children,r),e.child;case 12:return _e(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,G(li,n._currentValue),n._currentValue=o,i!==null)if(it(i.value,o)){if(i.children===s.children&&!Oe.current){e=Et(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=wt(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),na(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),na(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Kr(e,r),s=Ke(s),n=n(s),e.flags|=1,_e(t,e,n,r),e.child;case 14:return n=e.type,s=Ze(n,e.pendingProps),s=Ze(n.type,s),Fu(t,e,n,s,r);case 15:return kh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Ze(n,s),Ws(t,e),e.tag=1,Te(n)?(t=!0,ii(e)):t=!1,Kr(e,r),Sh(e,n,s),ia(e,n,s,r),la(null,e,n,!0,t,r);case 19:return Th(t,e,r);case 22:return bh(t,e,r)}throw Error(E(156,e.tag))};function Hh(t,e){return yd(t,e)}function Im(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,r,n){return new Im(t,e,r,n)}function El(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lm(t){if(typeof t=="function")return El(t)?1:0;if(t!=null){if(t=t.$$typeof,t===za)return 11;if(t===Va)return 14}return 2}function Vt(t,e){var r=t.alternate;return r===null?(r=We(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Gs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")El(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pr:return cr(r.children,s,i,e);case Ma:o=8,s|=8;break;case To:return t=We(12,r,e,s|2),t.elementType=To,t.lanes=i,t;case Ro:return t=We(13,r,e,s),t.elementType=Ro,t.lanes=i,t;case Po:return t=We(19,r,e,s),t.elementType=Po,t.lanes=i,t;case td:return Di(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Zc:o=10;break e;case ed:o=9;break e;case za:o=11;break e;case Va:o=14;break e;case Tt:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=We(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function cr(t,e,r,n){return t=We(7,t,n,e),t.lanes=r,t}function Di(t,e,r,n){return t=We(22,t,n,e),t.elementType=td,t.lanes=r,t.stateNode={isHidden:!1},t}function mo(t,e,r){return t=We(6,t,null,e),t.lanes=r,t}function vo(t,e,r){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $m(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kl(t,e,r,n,s,i,o,a,l){return t=new $m(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=We(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},al(i),t}function Dm(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Kh(t){if(!t)return Ht;t=t._reactInternals;e:{if(vr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Te(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Te(r))return Kd(t,r,e)}return e}function Gh(t,e,r,n,s,i,o,a,l){return t=kl(r,n,!0,t,s,i,o,a,l),t.context=Kh(null),r=t.current,n=xe(),s=zt(r),i=wt(n,s),i.callback=e??null,Bt(r,i,s),t.current.lanes=s,ns(t,s,n),Re(t,n),t}function Ui(t,e,r,n){var s=e.current,i=xe(),o=zt(s);return r=Kh(r),e.context===null?e.context=r:e.pendingContext=r,e=wt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bt(s,e,o),t!==null&&(st(t,s,o,i),Ms(t,s,o)),o}function yi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function bl(t,e){Yu(t,e),(t=t.alternate)&&Yu(t,e)}function Um(){return null}var qh=typeof reportError=="function"?reportError:function(t){console.error(t)};function jl(t){this._internalRoot=t}Fi.prototype.render=jl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Ui(t,e,null,null)};Fi.prototype.unmount=jl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gr(function(){Ui(null,t,null,null)}),e[St]=null}};function Fi(t){this._internalRoot=t}Fi.prototype.unstable_scheduleHydration=function(t){if(t){var e=bd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Pt.length&&e!==0&&e<Pt[r].priority;r++);Pt.splice(r,0,t),r===0&&Cd(t)}};function Cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xu(){}function Fm(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=yi(o);i.call(u)}}var o=Gh(e,n,t,0,null,!1,!1,"",Xu);return t._reactRootContainer=o,t[St]=o.current,Wn(t.nodeType===8?t.parentNode:t),gr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=yi(l);a.call(u)}}var l=kl(t,0,!1,null,null,!1,!1,"",Xu);return t._reactRootContainer=l,t[St]=l.current,Wn(t.nodeType===8?t.parentNode:t),gr(function(){Ui(e,l,r,n)}),l}function Mi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=yi(o);a.call(l)}}Ui(e,o,t,s)}else o=Fm(r,e,t,s,n);return yi(o)}Ed=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Sn(e.pendingLanes);r!==0&&(Ka(e,r|1),Re(e,ne()),!(V&6)&&(tn=ne()+500,qt()))}break;case 13:gr(function(){var n=xt(t,1);if(n!==null){var s=xe();st(n,t,1,s)}}),bl(t,1)}};Ga=function(t){if(t.tag===13){var e=xt(t,134217728);if(e!==null){var r=xe();st(e,t,134217728,r)}bl(t,134217728)}};kd=function(t){if(t.tag===13){var e=zt(t),r=xt(t,e);if(r!==null){var n=xe();st(r,t,e,n)}bl(t,e)}};bd=function(){return W};jd=function(t,e){var r=W;try{return W=t,e()}finally{W=r}};Mo=function(t,e,r){switch(e){case"input":if(Io(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Pi(n);if(!s)throw Error(E(90));nd(n),Io(n,s)}}}break;case"textarea":id(t,r);break;case"select":e=r.value,e!=null&&zr(t,!!r.multiple,e,!1)}};hd=_l;fd=gr;var Bm={usingClientEntryPoint:!1,Events:[is,Lr,Pi,cd,dd,_l]},yn={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mm={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=md(t),t===null?null:t.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||Um,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bs.isDisabled&&bs.supportsFiber)try{Ci=bs.inject(Mm),dt=bs}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bm;Ue.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cl(e))throw Error(E(200));return Dm(t,e,null,r)};Ue.createRoot=function(t,e){if(!Cl(t))throw Error(E(299));var r=!1,n="",s=qh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kl(t,1,!1,null,null,r,!1,n,s),t[St]=e.current,Wn(t.nodeType===8?t.parentNode:t),new jl(e)};Ue.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=md(e),t=t===null?null:t.stateNode,t};Ue.flushSync=function(t){return gr(t)};Ue.hydrate=function(t,e,r){if(!Bi(e))throw Error(E(200));return Mi(null,t,e,!0,r)};Ue.hydrateRoot=function(t,e,r){if(!Cl(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=qh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Gh(e,null,t,1,r??null,s,!1,i,o),t[St]=e.current,Wn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Fi(e)};Ue.render=function(t,e,r){if(!Bi(e))throw Error(E(200));return Mi(null,t,e,!1,r)};Ue.unmountComponentAtNode=function(t){if(!Bi(t))throw Error(E(40));return t._reactRootContainer?(gr(function(){Mi(null,null,t,!1,function(){t._reactRootContainer=null,t[St]=null})}),!0):!1};Ue.unstable_batchedUpdates=_l;Ue.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Bi(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Mi(t,e,r,!1,n)};Ue.version="18.3.1-next-f1338f8080-20240426";function Jh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jh)}catch(t){console.error(t)}}Jh(),Jc.exports=Ue;var zm=Jc.exports,Zu=zm;Co.createRoot=Zu.createRoot,Co.hydrateRoot=Zu.hydrateRoot;var _a=function(t,e){return _a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},_a(t,e)};function Qh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_a(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wi=function(){return wi=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},wi.apply(this,arguments)};function an(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Yh(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function Xh(t,e){return function(r,n){e(r,n,t)}}function Zh(t,e,r,n,s,i){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,v=r.length-1;v>=0;v--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(m){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(m||null))};var S=(0,r[v])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(f=o(S.get))&&(d.get=f),(f=o(S.set))&&(d.set=f),(f=o(S.init))&&s.unshift(f)}else(f=o(S))&&(a==="field"?s.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function ef(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function tf(t){return typeof t=="symbol"?t:"".concat(t)}function rf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function nf(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function P(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function l(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function sf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var zi=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function of(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zi(e,t,r)}function _i(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ol(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function af(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Ol(arguments[e]));return t}function lf(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function uf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function rn(t){return this instanceof rn?(this.v=t,this):new rn(t)}function cf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(y){return Promise.resolve(y).then(v,f)}}function a(v,y){n[v]&&(s[v]=function(w){return new Promise(function(S,m){i.push([v,w,S,m])>1||l(v,w)})},y&&(s[v]=y(s[v])))}function l(v,y){try{u(n[v](y))}catch(w){h(i[0][3],w)}}function u(v){v.value instanceof rn?Promise.resolve(v.value.v).then(d,f):h(i[0][2],v)}function d(v){l("next",v)}function f(v){l("throw",v)}function h(v,y){v(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function df(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:rn(t[s](o)),done:!1}:i?i(o):o}:i}}function hf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof _i=="function"?_i(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function ff(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Vm=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Sa=function(t){return Sa=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Sa(t)};function pf(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Sa(t),n=0;n<r.length;n++)r[n]!=="default"&&zi(e,t,r[n]);return Vm(e,t),e}function gf(t){return t&&t.__esModule?t:{default:t}}function mf(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function vf(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function yf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function wf(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Wm=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function _f(t){function e(i){t.error=t.hasError?new Wm(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Sf(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Hm={__extends:Qh,__assign:wi,__rest:an,__decorate:Yh,__param:Xh,__esDecorate:Zh,__runInitializers:ef,__propKey:tf,__setFunctionName:rf,__metadata:nf,__awaiter:P,__generator:sf,__createBinding:zi,__exportStar:of,__values:_i,__read:Ol,__spread:af,__spreadArrays:lf,__spreadArray:uf,__await:rn,__asyncGenerator:cf,__asyncDelegator:df,__asyncValues:hf,__makeTemplateObject:ff,__importStar:pf,__importDefault:gf,__classPrivateFieldGet:mf,__classPrivateFieldSet:vf,__classPrivateFieldIn:yf,__addDisposableResource:wf,__disposeResources:_f,__rewriteRelativeImportExtension:Sf},Km=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wf,get __assign(){return wi},__asyncDelegator:df,__asyncGenerator:cf,__asyncValues:hf,__await:rn,__awaiter:P,__classPrivateFieldGet:mf,__classPrivateFieldIn:yf,__classPrivateFieldSet:vf,__createBinding:zi,__decorate:Yh,__disposeResources:_f,__esDecorate:Zh,__exportStar:of,__extends:Qh,__generator:sf,__importDefault:gf,__importStar:pf,__makeTemplateObject:ff,__metadata:nf,__param:Xh,__propKey:tf,__read:Ol,__rest:an,__rewriteRelativeImportExtension:Sf,__runInitializers:ef,__setFunctionName:rf,__spread:af,__spreadArray:uf,__spreadArrays:lf,__values:_i,default:Hm},Symbol.toStringTag,{value:"Module"})),Gm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Tl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class qm extends Tl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ec extends Tl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tc extends Tl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xa||(xa={}));class Jm{constructor(e,{headers:r={},customFetch:n,region:s=xa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Gm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return P(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:d,timeout:f}=n;let h={},{region:v}=n;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(h["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(h["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(h["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let S=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(S=o.signal,d.addEventListener("abort",()=>o.abort())):S=o.signal);const m=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:w,signal:S}).catch(x=>{throw new qm(x)}),c=m.headers.get("x-relay-error");if(c&&c==="true")throw new ec(m);if(!m.ok)throw new tc(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield m.json():g==="application/octet-stream"||g==="application/pdf"?_=yield m.blob():g==="text/event-stream"?_=m:g==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof tc||a instanceof ec?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Se={};const ln=mp(Km);var js={},Cs={},Os={},Ts={},Rs={},Ps={},rc;function xf(){if(rc)return Ps;rc=1,Object.defineProperty(Ps,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ps.default=t,Ps}var nc;function Ef(){if(nc)return Rs;nc=1,Object.defineProperty(Rs,"__esModule",{value:!0});const e=ln.__importDefault(xf());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,h;let v=null,y=null,w=null,S=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const x=await l.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=x:y=JSON.parse(x))}const g=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,S=406,m="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const g=await l.text();try{v=JSON.parse(g),Array.isArray(v)&&l.status===404&&(y=[],v=null,S=200,m="OK")}catch{l.status===404&&g===""?(S=204,m="No Content"):v={message:g}}if(v&&this.isMaybeSingle&&(!((h=v==null?void 0:v.details)===null||h===void 0)&&h.includes("0 rows"))&&(v=null,S=200,m="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:y,count:w,status:S,statusText:m}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,d,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(d=l==null?void 0:l.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return Rs.default=r,Rs}var sc;function kf(){if(sc)return Ts;sc=1,Object.defineProperty(Ts,"__esModule",{value:!0});const e=ln.__importDefault(Ef());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Ts.default=r,Ts}var ic;function Rl(){if(ic)return Os;ic=1,Object.defineProperty(Os,"__esModule",{value:!0});const e=ln.__importDefault(kf()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Os.default=n,Os}var oc;function bf(){if(oc)return Cs;oc=1,Object.defineProperty(Cs,"__esModule",{value:!0});const e=ln.__importDefault(Rl());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((h,v)=>h.concat(Object.keys(v)),[]);if(f.length>0){const h=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Cs.default=r,Cs}var ac;function Qm(){if(ac)return js;ac=1,Object.defineProperty(js,"__esModule",{value:!0});const t=ln,e=t.__importDefault(bf()),r=t.__importDefault(Rl());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let v;a||l?(f=a?"HEAD":"GET",Object.entries(o).filter(([w,S])=>S!==void 0).map(([w,S])=>[w,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([w,S])=>{h.searchParams.append(w,S)})):(f="POST",v=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:y,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return js.default=n,js}Object.defineProperty(Se,"__esModule",{value:!0});var jf=Se.PostgrestError=$f=Se.PostgrestBuilder=If=Se.PostgrestTransformBuilder=Nf=Se.PostgrestFilterBuilder=Rf=Se.PostgrestQueryBuilder=Of=Se.PostgrestClient=void 0;const un=ln,Cf=un.__importDefault(Qm());var Of=Se.PostgrestClient=Cf.default;const Tf=un.__importDefault(bf());var Rf=Se.PostgrestQueryBuilder=Tf.default;const Pf=un.__importDefault(Rl());var Nf=Se.PostgrestFilterBuilder=Pf.default;const Af=un.__importDefault(kf());var If=Se.PostgrestTransformBuilder=Af.default;const Lf=un.__importDefault(Ef());var $f=Se.PostgrestBuilder=Lf.default;const Df=un.__importDefault(xf());jf=Se.PostgrestError=Df.default;var Uf=Se.default={PostgrestClient:Cf.default,PostgrestQueryBuilder:Tf.default,PostgrestFilterBuilder:Pf.default,PostgrestTransformBuilder:Af.default,PostgrestBuilder:Lf.default,PostgrestError:Df.default};const Ym=pp({__proto__:null,get PostgrestBuilder(){return $f},get PostgrestClient(){return Of},get PostgrestError(){return jf},get PostgrestFilterBuilder(){return Nf},get PostgrestQueryBuilder(){return Rf},get PostgrestTransformBuilder(){return If},default:Uf},[Se]),{PostgrestClient:Xm,PostgrestQueryBuilder:K0,PostgrestFilterBuilder:G0,PostgrestTransformBuilder:q0,PostgrestBuilder:J0,PostgrestError:Q0}=Uf||Ym;class Zm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ev="2.81.0",tv=`realtime-js/${ev}`,Ff="1.0.0",rv="2.0.0",lc=Ff,Ea=1e4,nv=1e3,sv=100;var rr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(rr||(rr={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Me;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Me||(Me={}));var ka;(function(t){t.websocket="websocket"})(ka||(ka={}));var nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nr||(nr={}));class iv{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:s,topic:i,payload:o}=e,a=this.META_LENGTH+r.length+n.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let u=new DataView(l),d=0;u.setUint8(d++,this.KINDS.push),u.setUint8(d++,r.length),u.setUint8(d++,n.length),u.setUint8(d++,i.length),u.setUint8(d++,s.length),Array.from(r,h=>u.setUint8(d++,h.charCodeAt(0))),Array.from(n,h=>u.setUint8(d++,h.charCodeAt(0))),Array.from(i,h=>u.setUint8(d++,h.charCodeAt(0))),Array.from(s,h=>u.setUint8(d++,h.charCodeAt(0)));var f=new Uint8Array(l.byteLength+o.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(o),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(d),h=0;f.setUint8(h++,this.KINDS.userBroadcastPush),f.setUint8(h++,s.length),f.setUint8(h++,i.length),f.setUint8(h++,o.length),f.setUint8(h++,a.length),f.setUint8(h++,this.BINARY_ENCODING),Array.from(s,y=>f.setUint8(h++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(h++,y.charCodeAt(0))),Array.from(o,y=>f.setUint8(h++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(h++,y.charCodeAt(0)));var v=new Uint8Array(d.byteLength+l.byteLength);return v.set(new Uint8Array(d),0),v.set(new Uint8Array(l),d.byteLength),v.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,h=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(h),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,s.length),v.setUint8(y++,i.length),v.setUint8(y++,o.length),v.setUint8(y++,a.length),v.setUint8(y++,this.JSON_ENCODING),Array.from(s,S=>v.setUint8(y++,S.charCodeAt(0))),Array.from(i,S=>v.setUint8(y++,S.charCodeAt(0))),Array.from(o,S=>v.setUint8(y++,S.charCodeAt(0))),Array.from(a,S=>v.setUint8(y++,S.charCodeAt(0)));var w=new Uint8Array(h.byteLength+d.byteLength);return w.set(new Uint8Array(h),0),w.set(new Uint8Array(d),h.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,s);case this.KINDS.reply:return this._decodeReply(e,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodePush(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const d=n.decode(e.slice(a,a+o));a=a+o;const f=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:d,payload:f}}_decodeReply(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+o));l=l+o;const h=n.decode(e.slice(l,l+a));l=l+a;const v=JSON.parse(n.decode(e.slice(l,e.byteLength))),y={status:h,response:v};return{join_ref:u,ref:d,topic:f,event:Me.reply,payload:y}}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:u}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),v=a===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST,event:d,payload:v};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Bf{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var K;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(K||(K={}));const uc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=ov(o,t,e,s),i),{}):{}},ov=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Mf(i,o):ba(o)},Mf=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return cv(e,r)}switch(t){case K.bool:return av(e);case K.float4:case K.float8:case K.int2:case K.int4:case K.int8:case K.numeric:case K.oid:return lv(e);case K.json:case K.jsonb:return uv(e);case K.timestamp:return dv(e);case K.abstime:case K.date:case K.daterange:case K.int4range:case K.int8range:case K.money:case K.reltime:case K.text:case K.time:case K.timestamptz:case K.timetz:case K.tsrange:case K.tstzrange:return ba(e);default:return ba(e)}},ba=t=>t,av=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},cv=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Mf(e,a))}return t},dv=t=>typeof t=="string"?t.replace(" ","T"):t,zf=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class yo{constructor(e,r,n={},s=Ea){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cc||(cc={}));class In{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=In.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=In.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=In.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(S=>S.presence_ref),v=f.map(S=>S.presence_ref),y=d.filter(S=>v.indexOf(S.presence_ref)<0),w=f.filter(S=>h.indexOf(S.presence_ref)<0);y.length>0&&(a[u]=y),w.length>0&&(l[u]=w)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),d.length>0){const f=e[a].map(v=>v.presence_ref),h=d.filter(v=>f.indexOf(v.presence_ref)<0);e[a].unshift(...h)}n(a,d,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(dc||(dc={}));var Ln;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ln||(Ln={}));var gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Pl{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new yo(this,Me.join,this.params,this.timeout),this.rejoinTimer=new Bf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Me.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new In(this),this.broadcastEndpointURL=zf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ln.PRESENCE]&&this.bindings[Ln.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(gt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(gt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,m=[];for(let c=0;c<S;c++){const g=w[c],{filter:{event:_,schema:x,table:b,filter:j}}=g,T=v&&v[c];if(T&&T.event===_&&T.schema===x&&T.table===b&&T.filter===j)m.push(Object.assign(Object.assign({},g),{id:T.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(gt.SUBSCRIBED);return}}).receive("error",v=>{this.state=oe.errored,e==null||e(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===oe.joined&&e===Ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Me.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new yo(this,Me.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new yo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Me;if(n&&[a,l,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,S;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(w=v.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(v=>v.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,w,S,m,c,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,x=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(c=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||c===void 0?void 0:c.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:w,table:S,commit_timestamp:m,type:c,errors:g}=y;h=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:m,eventType:c,new:{},old:{},errors:g}),this._getPayloadRecords(y))}v.callback(h,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Pl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Me.close,{},e)}_onError(e){this._on(Me.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=uc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=uc(e.columns,e.old_record)),r}}const wo=()=>{},Ns={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hv=[1e3,2e3,5e3,1e4],fv=1e4,pv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gv{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ea,this.transport=null,this.heartbeatIntervalMs=Ns.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wo,this.ref=0,this.reconnectTimer=null,this.vsn=lc,this.logger=wo,this.conn=null,this.sendBuffer=[],this.serializer=new iv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ka.websocket}`,this.httpEndpoint=zf(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rr.connecting:return nr.Connecting;case rr.open:return nr.Open;case rr.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Pl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(nv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ns.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===rr.open||this.conn.readyState===rr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Me.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([pv],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:tv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Me.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Bf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ns.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,d,f,h,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ea,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Ns.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:wo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:lc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>hv[y-1]||fv,this.vsn){case Ff:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,w)=>w(JSON.parse(y));break;case rv:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Nl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function X(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mv extends Nl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ja extends Nl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Al=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),vv=()=>Response,Ca=t=>{if(Array.isArray(t))return t.map(r=>Ca(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ca(n)}),e},yv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_o=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},wv=(t,e,r)=>P(void 0,void 0,void 0,function*(){const n=yield vv();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new mv(_o(s),i,o))}).catch(s=>{e(new ja(_o(s),s))}):e(new ja(_o(t),t))}),_v=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(yv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function as(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,_v(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>wv(l,a,n))})})}function Zn(t,e,r,n){return P(this,void 0,void 0,function*(){return as(t,"GET",e,r,n)})}function et(t,e,r,n,s){return P(this,void 0,void 0,function*(){return as(t,"POST",e,n,s,r)})}function Oa(t,e,r,n,s){return P(this,void 0,void 0,function*(){return as(t,"PUT",e,n,s,r)})}function Sv(t,e,r,n){return P(this,void 0,void 0,function*(){return as(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Il(t,e,r,n,s){return P(this,void 0,void 0,function*(){return as(t,"DELETE",e,n,s,r)})}class xv{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return P(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(X(e))return{data:null,error:e};throw e}})}}var Vf;class Ev{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Vf]="BlobDownloadBuilder",this.promise=null}asStream(){return new xv(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return P(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(X(e))return{data:null,error:e};throw e}})}}Vf=Symbol.toStringTag;const kv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bv{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Al(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return P(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},hc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?Oa:et)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(X(i))return{data:null,error:i};throw i}})}upload(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return P(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:hc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Oa(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(X(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return P(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield et(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Nl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}update(e,r,n){return P(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(X(s))return{data:null,error:s};throw s}})}copy(e,r,n){return P(this,void 0,void 0,function*(){try{return{data:{path:(yield et(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(X(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return P(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield et(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(X(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return P(this,void 0,void 0,function*(){try{const s=yield et(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(X(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Zn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new Ev(l,this.shouldThrowOnError)}info(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Zn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ca(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}exists(e){return P(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Sv(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n)&&n instanceof ja){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return P(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}list(e,r,n){return P(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kv),r),{prefix:e||""});return{data:yield et(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(X(s))return{data:null,error:s};throw s}})}listV2(e,r){return P(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield et(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Wf="2.81.0",Hf={"X-Client-Info":`storage-js/${Wf}`};class jv{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hf),r),this.fetch=Al(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Zn(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}createBucket(e){return P(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield et(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(X(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(X(n))return{data:null,error:n};throw n}})}emptyBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Cv{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Hf),r),this.fetch=Al(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield et(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}listBuckets(e){return P(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Zn(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(X(r))return{data:null,error:r};throw r}})}}const Ll={"X-Client-Info":`storage-js/${Wf}`,"Content-Type":"application/json"};class Kf extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ae(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class So extends Kf{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ov extends Kf{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var fc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(fc||(fc={}));const $l=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Tv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Rv=(t,e,r)=>P(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new So(pc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new So(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new So(a,s,o))}}else e(new Ov(pc(t),t))}),Pv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Tv(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Nv(t,e,r,n,s,i){return P(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,Pv(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Rv(l,a,n))})})}function Ie(t,e,r,n,s){return P(this,void 0,void 0,function*(){return Nv(t,"POST",e,n,s,r)})}class Av{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ll),r),this.fetch=$l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}getIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}listIndexes(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return P(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ae(n))return{data:null,error:n};throw n}})}}class Iv{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ll),r),this.fetch=$l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return P(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ie(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}getVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}listVectors(e){return P(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ie(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}queryVectors(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteVectors(e){return P(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ie(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}class Lv{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ll),r),this.fetch=$l(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}getBucket(e){return P(this,void 0,void 0,function*(){try{return{data:yield Ie(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}listBuckets(){return P(this,arguments,void 0,function*(e={}){try{return{data:yield Ie(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return P(this,void 0,void 0,function*(){try{return{data:(yield Ie(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ae(r))return{data:null,error:r};throw r}})}}class $v extends Lv{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Dv(this.url,this.headers,e,this.fetch)}}class Dv extends Av{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return P(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return P(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return P(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return P(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Uv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Uv extends Iv{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return P(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return P(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return P(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return P(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return P(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Fv extends jv{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new bv(this.url,this.headers,e,this.fetch)}get vectors(){return new $v(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cv(this.url+"/iceberg",this.headers,this.fetch)}}const Bv="2.81.0";let En="";typeof Deno<"u"?En="deno":typeof document<"u"?En="web":typeof navigator<"u"&&navigator.product==="ReactNative"?En="react-native":En="node";const Mv={"X-Client-Info":`supabase-js-${En}/${Bv}`},zv={headers:Mv},Vv={schema:"public"},Wv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hv={},Kv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gv=()=>Headers,qv=(t,e,r)=>{const n=Kv(r),s=Gv();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Jv(t){return t.endsWith("/")?t:t+"/"}function Qv(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}function Yv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Jv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Gf="2.81.0",Or=30*1e3,Ta=3,xo=Ta*Or,Xv="http://localhost:9999",Zv="supabase.auth.token",ey={"X-Client-Info":`gotrue-js/${Gf}`},Ra="X-Supabase-Api-Version",qf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ty=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ry=10*60*1e3;class es extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ny extends es{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sy(t){return A(t)&&t.name==="AuthApiError"}class sr extends es{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jt extends es{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Ye extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iy(t){return A(t)&&t.name==="AuthSessionMissingError"}class xr extends Jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends Jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Is extends Jt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function oy(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class gc extends Jt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pa extends Jt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Eo(t){return A(t)&&t.name==="AuthRetryableFetchError"}class mc extends Jt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Na extends Jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Si="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vc=` 	
\r=`.split(""),ay=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vc.length;e+=1)t[vc[e].charCodeAt(0)]=-2;for(let e=0;e<Si.length;e+=1)t[Si[e].charCodeAt(0)]=e;return t})();function yc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Si[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Si[n]),e.queuedBits-=6}}function Jf(t,e,r){const n=ay[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{cy(o,n,r)};for(let o=0;o<t.length;o+=1)Jf(t.charCodeAt(o),s,i);return e.join("")}function ly(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function uy(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ly(n,e)}}function cy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function qr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Jf(t.charCodeAt(s),r,n);return new Uint8Array(e)}function dy(t){const e=[];return uy(t,r=>e.push(r)),new Uint8Array(e)}function lr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>yc(s,r,n)),yc(null,r,n),e.join("")}function hy(t){return Math.round(Date.now()/1e3)+t}function fy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ve=()=>typeof window<"u"&&typeof document<"u",Yt={tested:!1,writable:!1},Qf=()=>{if(!ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function py(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Yf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),gy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Xt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ot=async(t,e)=>{await t.removeItem(e)};class Vi{constructor(){this.promise=new Vi.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Vi.promiseConstructor=Promise;function ko(t){const e=t.split(".");if(e.length!==3)throw new Na("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ty.test(e[n]))throw new Na("JWT not in base64url format");return{header:JSON.parse(wc(e[0])),payload:JSON.parse(wc(e[1])),signature:qr(e[2]),raw:{header:e[0],payload:e[1]}}}async function my(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vy(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function yy(t){return("0"+t.toString(16)).substr(-2)}function wy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,yy).join("")}async function _y(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Sy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _y(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(t,e,r=!1){const n=wy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Tr(t,`${e}-code-verifier`,s);const i=await Sy(n);return[i,n===i?"plain":"s256"]}const xy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ey(t){const e=t.headers.get(Ra);if(!e||!e.match(xy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ky(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function by(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(t){if(!jy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cy(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function _c(t){return JSON.parse(JSON.stringify(t))}const tr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Oy=[502,503,504];async function Sc(t){var e;if(!gy(t))throw new Pa(tr(t),0);if(Oy.includes(t.status))throw new Pa(tr(t),t.status);let r;try{r=await t.json()}catch(i){throw new sr(tr(i),i)}let n;const s=Ey(t);if(s&&s.getTime()>=qf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new mc(tr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ye}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mc(tr(r),t.status,r.weak_password.reasons);throw new ny(tr(r),t.status||500,n)}const Ty=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function L(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ra]||(i[Ra]=qf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ry(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Ry(t,e,r,n,s,i){const o=Ty(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Pa(tr(l),0)}if(a.ok||await Sc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Sc(l)}}function Xe(t){var e;let r=null;Ay(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=hy(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function xc(t){const e=Xe(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function At(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Py(t){return{data:t,error:null}}function Ny(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=an(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ec(t){return t}function Ay(t){return t.access_token&&t.refresh_token&&t.expires_in}const jo=["global","local","others"];class Iy{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Yf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=jo[0]){if(jo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jo.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:At})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=an(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ny,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:At})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ec});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){kr(e);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:At})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){kr(e);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:At})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){kr(e);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:At})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){kr(e.userId);try{const{data:r,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(e){kr(e.userId),kr(e.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ec});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);u[`${S}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}}function kc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const br={debug:!!(globalThis&&Qf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ly extends Xf{}async function $y(t,e,r){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ly(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(br.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Dy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zf(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Uy(t){return parseInt(t,16)}function Fy(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function By(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:f,version:h}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Zf(t.address),y=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let m=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let c=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);c+=`
- ${g}`}m+=c}return`${S}
${m}`}class se extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class xi extends se{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function My({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(ep(o)){if(i.rp.id!==o)return new se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zy({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new se({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ep(n)){if(r.rpId!==n)return new se({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Vy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Wy=new Vy;function Hy(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=an(t,["challenge","user","excludeCredentials"]),i=qr(e).buffer,o=Object.assign(Object.assign({},r),{id:qr(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:qr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Ky(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=an(t,["challenge","allowCredentials"]),s=qr(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:qr(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Gy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:lr(new Uint8Array(t.response.attestationObject)),clientDataJSON:lr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qy(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:lr(new Uint8Array(s.authenticatorData)),clientDataJSON:lr(new Uint8Array(s.clientDataJSON)),signature:lr(new Uint8Array(s.signature)),userHandle:s.userHandle?lr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ep(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function bc(){var t,e;return!!(ve()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Jy(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",e)}:{data:null,error:new xi("Empty credential response",e)}}catch(e){return{data:null,error:My({error:e,options:t})}}}async function Qy(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new xi("Browser returned unexpected credential type",e)}:{data:null,error:new xi("Empty credential response",e)}}catch(e){return{data:null,error:zy({error:e,options:t})}}}const Yy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Xy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ei(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Ei(a,o):n[i]=Ei(o)}else n[i]=o}return n}function Zy(t,e){return Ei(Yy,t,e||{})}function e0(t,e){return Ei(Xy,t,e||{})}class t0{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??Wy.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Zy(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await Jy({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=e0(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await Qy(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new sr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new es("rpId is required for WebAuthn authentication")};try{if(!bc())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new sr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new es("rpId is required for WebAuthn registration")};try{if(!bc())return{data:null,error:new sr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return A(o)?{data:null,error:o}:{data:null,error:new sr("Unexpected error in register",o)}}}}Dy();const r0={url:Xv,storageKey:Zv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ey,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function jc(t,e,r){return await r()}const jr={};class ts{get jwks(){var e,r;return(r=(e=jr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=jr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},r0),e);if(this.storageKey=i.storageKey,this.instanceID=(r=ts.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ts.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ve()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Iy({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yf(i.fetch),this.lock=i.lock||jc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:ve()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$y:this.lock=jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new t0(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Qf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=kc(this.memoryStorage)),ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gf}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ve()&&(r=py(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ve()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),oy(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new sr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xe}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:f,options:h}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Er(this.storage,this.storageKey)),i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:v,code_challenge_method:y},xform:Xe})}else if("phone"in e){const{phone:d,password:f,options:h}=e;i=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xe})}else throw new As("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xc})}else throw new As("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new xr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,d,f,h;let v,y;if("message"in e)v=e.message,y=e.signature;else{const{chain:w,wallet:S,statement:m,options:c}=e;let g;if(ve())if(typeof S=="object")g=S;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")g=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(c!=null&&c.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=S}const _=new URL((r=c==null?void 0:c.url)!==null&&r!==void 0?r:window.location.href),x=await g.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=Zf(x[0]);let j=(n=c==null?void 0:c.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const F=await g.request({method:"eth_chainId"});j=Uy(F)}const T={domain:_.host,address:b,statement:m,uri:_.href,version:"1",chainId:j,nonce:(s=c==null?void 0:c.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=c==null?void 0:c.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=c==null?void 0:c.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=c==null?void 0:c.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=c==null?void 0:c.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=c==null?void 0:c.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=By(T),y=await g.request({method:"personal_sign",params:[Fy(v),b]})}try{const{data:w,error:S}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xe});if(S)throw S;if(!w||!w.session||!w.user){const m=new xr;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,d,f,h,v;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:S,wallet:m,statement:c,options:g}=e;let _;if(ve())if(typeof m=="object")_=m;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const x=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),c?{statement:c}:null));let j;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")j=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)j=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)y=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),w=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...c?["",c,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:S,error:m}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:lr(w)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Xe});if(m)throw m;if(!S||!S.session||!S.user){const c=new xr;return this._returnResult({data:{user:null,session:null},error:c})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:m})}catch(S){if(A(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await Xt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Xe});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new xr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(A(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xe}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new xr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Er(this.storage,this.storageKey));const{error:f}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new As("You must provide either an email or phone number.")}catch(a){if(A(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Xe});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Er(this.storage,this.storageKey));const a=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Py});return this._returnResult(a)}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ye;const{error:s}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(A(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await L(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await L(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new As("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Xt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Xt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=bo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Cy(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:At}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ye}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:At})})}catch(r){if(A(r))return iy(r)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ye;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Er(this.storage,this.storageKey));const{data:u,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:At});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(A(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ye;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ko(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ye;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ve())throw new Is("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Is(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new gc("No code detected.");const{data:c,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:c.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new Is("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;l&&(h=parseInt(l));const v=h-d;v*1e3<=Or&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(A(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Xt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(sy(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=fy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Er(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(A(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:f,error:h}=i;if(h)throw h;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ve()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(A(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=e,f=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xe}),{data:h,error:v}=f;return v?this._returnResult({data:{user:null,session:null},error:v}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new xr}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:v}))}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vy(async s=>(s>0&&await my(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xe})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Eo(i)&&Date.now()+o-n<Or})}catch(n){if(this._debug(r,"error",n),A(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ve()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Xt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Xt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Tr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:bo()}else if(s&&!s.user&&!s.user){const o=await Xt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ot(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,s)):s.user=bo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${xo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Eo(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ye;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Vi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ye;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),A(i)){const o={data:null,error:i};return Eo(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=_c(s);await Tr(this.storage,this.storageKey,i)}else{const s=_c(r);await Tr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Or);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Or);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Or}ms, refresh threshold is ${Ta} ticks`),s<=Ta&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Er(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await L(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Gy(e.webauthn.credential_response):qy(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await L(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Hy(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ky(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ko(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ye})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ye});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Ye});const o=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&ve()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+ry>s)return n;const{data:i,error:o}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=ko(n);r!=null&&r.allowExpired||ky(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=by(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,dy(`${a}.${l}`)))throw new Na("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}}ts.nextInstanceID={};const n0=ts;class s0 extends n0{constructor(e){super(e)}}class i0{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Yv(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:Vv,realtime:Hv,auth:Object.assign(Object.assign({},Wv),{storageKey:l}),global:zv},d=Qv(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=qv(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Xm(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Fv(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Jm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:d},f,h){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new s0({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const o0=(t,e,r)=>new i0(t,e,r);function a0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}a0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const l0="https://qdmebvlijpytaqwwcgen.supabase.co",u0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFkbWVidmxpanB5dGFxd3djZ2VuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3ODc2MzcsImV4cCI6MjA3ODM2MzYzN30._gVnf9TgY81NKKbul0MD2WBNTku842UmN9napGGtZiE",qe=o0(l0,u0);async function Cc(t){const{data:e,error:r}=await qe.from("user_ratings").select("pokemon_dex, rating").eq("user_id",t);return r?(console.error("getRatingsForUser error:",r),{}):(e||[]).reduce((n,s)=>(n[s.pokemon_dex]=s.rating,n),{})}async function c0(t,e,r,n){const s=n?e*-1:e,{error:i}=await qe.from("user_ratings").upsert({user_id:t,pokemon_dex:s,rating:r,updated_at:new Date().toISOString()},{onConflict:"user_id,pokemon_dex"});if(i)throw i}async function d0(t,e,r){const{error:n}=await qe.from("rating_events").insert({user_id:t,pokemon_dex:e,rating:r});if(n)throw n}async function h0(){const{data:t,error:e}=await qe.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,scopes:"email profile"}});if(e)throw console.error("OAuth signInWithGoogle error:",e),e}async function f0(){const{error:t}=await qe.auth.signOut();if(t)throw t}async function p0(){try{const{data:{session:t}}=await qe.auth.getSession();if(!t)return null;const{data:e,error:r}=await qe.auth.getUser();if(r)return console.error("getCurrentUser error:",r),null;if(!e.user)return null;const n=e.user.user_metadata||{};return{id:e.user.id,email:e.user.email||"",name:n.full_name||n.name||void 0,avatarUrl:n.avatar_url||n.picture||void 0}}catch(t){return console.error("getCurrentUser exception:",t),null}}function g0(t){const{data:e}=qe.auth.onAuthStateChange((r,n)=>{if(n!=null&&n.user){const s=n.user.user_metadata||{};t({id:n.user.id,email:n.user.email||"",name:s.full_name||s.name||void 0,avatarUrl:s.avatar_url||s.picture||void 0})}else t(null)});return e.subscription.unsubscribe}const m0=10,Oc=50,v0=5,y0=100;async function qs(t){const{data:e,error:r}=await qe.from("user_profiles").select("*").eq("user_id",t).single();if(r){if(r.code==="PGRST116"){const{data:n,error:s}=await qe.from("user_profiles").insert({user_id:t,coins:0,total_ratings:0,ratings_today:0,level:1,xp:0}).select().single();return s?(console.error("Failed to create profile:",s),null):n}return console.error("Failed to fetch profile:",r),null}return e}async function w0(t,e){const{error:r}=await qe.from("user_profiles").update({...e,updated_at:new Date().toISOString()}).eq("user_id",t);return r?(console.error("Failed to update profile:",r),!1):!0}async function _0(t){const e=await qs(t);if(!e)return{success:!1,coinsAwarded:0,newBalance:0,hitDailyLimit:!1,message:"Profile not found"};const r=new Date().toISOString().split("T")[0],n=e.last_rating_date||"",s=n<r;let i=s?0:e.ratings_today;if(i>=Oc)return{success:!1,coinsAwarded:0,newBalance:e.coins,hitDailyLimit:!0,message:`Daily rating limit reached (${Oc}). Come back tomorrow!`};const o=new Date;o.setDate(o.getDate()-1);const a=o.toISOString().split("T")[0];let l=e.streak_days;s&&(n===a?l+=1:n<a&&(l=1));const u=m0,d=Math.min(l,7)*2,f=u+d,h=e.xp+v0,v=Math.floor(h/y0)+1,y=v>e.level;if(!await w0(t,{coins:e.coins+f,total_ratings:e.total_ratings+1,ratings_today:i+1,last_rating_date:r,streak_days:l,xp:h,level:v}))return{success:!1,coinsAwarded:0,newBalance:e.coins,hitDailyLimit:!1,message:"Failed to update profile"};await S0(t,f,"earn_rating",`Rating reward${d>0?` (+${d} streak bonus)`:""}`);let S=`+${f} coins!`;return y&&(S+=` Level up! Now level ${v}!`),l>1&&(S+=` ${l}-day streak! `),{success:!0,coinsAwarded:f,newBalance:e.coins+f,hitDailyLimit:!1,message:S}}async function S0(t,e,r,n){await qe.from("coin_transactions").insert({user_id:t,amount:e,transaction_type:r,description:n})}const Tc=25,x0=5.5;function Rc(t,e){return(Tc*x0+e*t)/(Tc+e)}function H(...t){return t.filter(Boolean).join(" ")}function Pc(t,e){try{const r=localStorage.getItem(t);return r?JSON.parse(r):e}catch{return e}}function Nc(t,e){try{localStorage.setItem(t,JSON.stringify(e))}catch{}}function E0(){try{sessionStorage.setItem("gridScrollY",String(window.scrollY||0))}catch{}}function k0(){try{const t=Number(sessionStorage.getItem("gridScrollY")||0);requestAnimationFrame(()=>window.scrollTo(0,t))}catch{}}function Ls(t){window.location.hash=t}function ki(t){let e=t.replace(/-/g," ");return e=e.replace(/\b(galar|hisui|alola)\b/i,(r,n)=>` (${n[0].toUpperCase()}${n.slice(1).toLowerCase()})`),/\bmega x\b/i.test(e)?(e=e.replace(/\bmega x\b/i,"").trim(),e=e.replace(/\s{2,}/g," "),e=e+" (Mega X)"):/\bmega y\b/i.test(e)?(e=e.replace(/\bmega y\b/i,"").trim(),e=e.replace(/\s{2,}/g," "),e=e+" (Mega Y)"):/\bmega\b/i.test(e)&&(e=e.replace(/\bmega\b/i,"").trim(),e=e.replace(/\s{2,}/g," "),e=e+" (Mega)"),e.replace(/\b\w/g,r=>r.toUpperCase())}function b0(t,e){if(!t.length)return t;const r=Date.now(),n=24*3600*1e3,s=e==="1d"?r-n:e==="1w"?r-7*n:e==="1m"?r-30*n:e==="3m"?r-90*n:0;return s?t.filter(i=>i.t>=s):t}const Dl={FIRE:"#F08030",WATER:"#6890F0",GRASS:"#78C850",ELECTRIC:"#F8D030",ICE:"#98D8D8",FIGHTING:"#C03028",POISON:"#A040A0",GROUND:"#E0C068",FLYING:"#A890F0",PSYCHIC:"#F85888",BUG:"#A8B820",ROCK:"#B8A038",GHOST:"#705898",DARK:"#705848",DRAGON:"#7038F8",STEEL:"#B8B8D0",FAIRY:"#EE99AC",NORMAL:"#A8A878"},Ac=Object.keys(Dl),Ic=[1,2,3,4,5,6,7,8,9],j0=new Set([149,248,376,373,445,635,706,784,887,998]),C0={"generation-i":1,"generation-ii":2,"generation-iii":3,"generation-iv":4,"generation-v":5,"generation-vi":6,"generation-vii":7,"generation-viii":8,"generation-ix":9},O0={1:"Kanto",2:"Johto",3:"Hoenn",4:"Sinnoh",5:"Unova",6:"Kalos",7:"Alola",8:"Galar",9:"Paldea"},Lc=[{id:6,name:"Charizard",dex:6,generation:1,region:"Kanto",types:["FIRE","FLYING"],flags:{},pokedex:"Spits fire that is hot enough to melt boulders.",evoChain:[4,5,6],evoLevels:[[4],[5],[6]],seedAvg:8.9,seedCount:3200},{id:9,name:"Blastoise",dex:9,generation:1,region:"Kanto",types:["WATER"],flags:{},pokedex:"Crushes its foe under its heavy body to cause fainting.",evoChain:[7,8,9],evoLevels:[[7],[8],[9]],seedAvg:8.1,seedCount:2100},{id:3,name:"Venusaur",dex:3,generation:1,region:"Kanto",types:["GRASS","POISON"],flags:{},pokedex:"The flower on its back blooms when it is absorbing solar energy.",evoChain:[1,2,3],evoLevels:[[1],[2],[3]],seedAvg:7.8,seedCount:1800},{id:25,name:"Pikachu",dex:25,generation:1,region:"Kanto",types:["ELECTRIC"],flags:{},pokedex:"When it is angered, it immediately discharges the energy stored in the pouches in its cheeks.",evoChain:[172,25,26],evoLevels:[[172],[25],[26]],seedAvg:8.5,seedCount:5e3},{id:94,name:"Gengar",dex:94,generation:1,region:"Kanto",types:["GHOST","POISON"],flags:{},pokedex:"On the night of a full moon, it is said that Gengar emerges from hiding to scare people.",evoChain:[92,93,94],evoLevels:[[92],[93],[94]],seedAvg:9.1,seedCount:4100},{id:150,name:"Mewtwo",dex:150,generation:1,region:"Kanto",types:["PSYCHIC"],flags:{legendary:!0},pokedex:"Its DNA is almost the same as Mew's.",evoChain:[150],evoLevels:[[150]],seedAvg:9.3,seedCount:6200},{id:445,name:"Garchomp",dex:445,generation:4,region:"Sinnoh",types:["DRAGON","GROUND"],flags:{pseudo:!0},pokedex:"It is said that when one runs at high speed, its wings create blades of wind.",evoChain:[443,444,445],evoLevels:[[443],[444],[445]],seedAvg:8.8,seedCount:2500},{id:448,name:"Lucario",dex:448,generation:4,region:"Sinnoh",types:["FIGHTING","STEEL"],flags:{},pokedex:"It can tell what people are thinking.",evoChain:[447,448],evoLevels:[[447],[448]],seedAvg:8.7,seedCount:2700},{id:658,name:"Greninja",dex:658,generation:6,region:"Kalos",types:["WATER","DARK"],flags:{},pokedex:"It creates throwing stars of compressed water...",evoChain:[656,657,658],evoLevels:[[656],[657],[658]],seedAvg:9,seedCount:4600},{id:197,name:"Umbreon",dex:197,generation:2,region:"Johto",types:["DARK"],flags:{},pokedex:"When this Pokmon becomes angry, its pores secrete a poisonous sweat...",evoChain:[133,196,197],evoLevels:[[133],[196,197]],seedAvg:8.6,seedCount:3300}],bi=t=>`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${t}.png`,tp=t=>`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/shiny/${t}.png`;function T0(t,e,r){return e?tp(t):bi(t)}function Ul(t){const e=new RegExp("\\/(\\d+)\\/?$").exec(t.trim());return e?Number(e[1]):0}async function kn(t){const e=await fetch(t);if(!e.ok)throw new Error(`HTTP ${e.status}`);return e.json()}function R0(t){const e=[];let r=[t];for(;r.length;){const n=[],s=[];for(const i of r){const o=Ul(i.species.url);o&&n.push(o),i.evolves_to&&i.evolves_to.length&&s.push(...i.evolves_to)}n.length&&e.push(Array.from(new Set(n))),r=s}return e.length?e:[[]]}async function P0(t){var y,w,S,m;const e=await kn(t.url),r=e.id,n=e.types.map(c=>c.type.name.toUpperCase()),s=await kn(e.species.url),i=(s.flavor_text_entries||[]).find(c=>c.language.name==="en"),o=i?String(i.flavor_text).replace(/\s+/g," "):"",a=((y=s.generation)==null?void 0:y.name)||"",l=C0[a]||0,u=O0[l]||"Unknown",d=(w=s.evolution_chain)==null?void 0:w.url;let f=[r],h;if(d){try{const g=await kn(d),_=[];let x=g.chain;for(;x;){const b=Ul(x.species.url);b&&_.push(b),x=x.evolves_to&&x.evolves_to[0]||null}_.length&&(f=_),h=R0(g.chain)}catch{}const c=[];if(s.varieties&&Array.isArray(s.varieties)){for(const g of s.varieties)if((m=(S=g.pokemon)==null?void 0:S.name)!=null&&m.toLowerCase().includes("mega"))try{const _=await kn(g.pokemon.url);_.id&&c.push(_.id)}catch{}}c.length&&h?h.push(c):c.length&&!h&&(h=[[r],c])}const v={legendary:!!s.is_legendary,mythical:!!s.is_mythical,pseudo:j0.has(r),mega:e.name.toLowerCase().includes("mega")};return{id:r,name:e.name[0].toUpperCase()+e.name.slice(1),dex:r,generation:l,region:u,types:n,flags:v,pokedex:o,evoChain:f,evoLevels:h,seedAvg:6+Math.random()*3,seedCount:Math.floor(500+Math.random()*5e3)}}async function N0(t,e){const n=(await kn("https://pokeapi.co/api/v2/pokemon?limit=2000&offset=0")).results,s=24;for(let i=0;i<n.length;i+=s){if(e!=null&&e.aborted)return;const o=n.slice(i,i+s),a=await Promise.all(o.map(P0));t(a)}}function A0(){const[,t]=N.useState(0);return N.useEffect(()=>{const r=()=>t(n=>n+1);return window.addEventListener("hashchange",r),window.addEventListener("popstate",r),()=>{window.removeEventListener("hashchange",r),window.removeEventListener("popstate",r)}},[]),(typeof window<"u"?window.location.hash:"").replace(/^#/,"")}function Aa(){return p.jsx("div",{className:"relative",children:p.jsx("div",{className:"bg-[#E53935] border-b border-[#E0E0E0] py-2",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-4 flex items-center justify-between text-white",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx("span",{className:"w-4 h-4 rounded-full bg-white/80 border border-white/80"}),p.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-white/70 border border-white/70"}),p.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-white/70 border border-white/70"}),p.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-white/70 border border-white/70"})]}),p.jsx("div",{className:"ml-3 text-lg font-extrabold tracking-wide",children:"Rate My Pokmon"})]}),p.jsx("div",{className:"h-2 w-24 rounded bg-white/30"})]})})})}function rp({value:t=0,onChange:e}){const[r,n]=Gc.useState(null),s=(o,a)=>{if(o.key==="ArrowRight"&&a<10)o.preventDefault(),e(a+1);else if(o.key==="ArrowLeft"&&a>1)o.preventDefault(),e(a-1);else if(o.key==="Home")o.preventDefault(),e(1);else if(o.key==="End")o.preventDefault(),e(10);else if(o.key>="0"&&o.key<="9"){const l=parseInt(o.key);l>=1&&l<=10&&(o.preventDefault(),e(l))}},i=r??t;return p.jsx("div",{className:"flex gap-1",role:"group","aria-label":`Rating: ${t} out of 10 stars`,onMouseLeave:()=>n(null),children:Array.from({length:10},(o,a)=>a+1).map(o=>p.jsx("button",{type:"button",onClick:()=>e(o),onMouseEnter:()=>n(o),onKeyDown:a=>s(a,o),"aria-label":`Rate ${o} out of 10`,"aria-pressed":o===t,className:H("w-6 h-6 flex items-center justify-center rounded-md relative transition-all","focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[#2979FF]","hover:scale-[1.08] active:scale-90",o<=i?"text-[#FFB74D] drop-shadow-[0_0_6px_rgba(255,183,77,0.5)]":"text-[#B0BEC5]"),children:p.jsx("span",{className:"text-lg leading-none select-none",children:""})},o))})}function np({type:t,compact:e=!1}){const r=(t||"").toUpperCase(),n=Dl[r]?`type-${r}`:"type-default";return p.jsx("span",{className:H("badge select-none",n,e&&"text-[8px] h-[18px] px-2"),children:t})}function Wi({as:t="div",className:e,onClick:r,children:n}){const s=N.useRef(null),i=N.useRef(0);function o(l){if(!r)return;const u=Date.now();u-(i.current||0)<300||(i.current=u,l.preventDefault(),l.stopPropagation(),r())}const a=t;return p.jsx(a,{ref:s,onClick:r,onTouchEnd:o,className:H("relative overflow-hidden touch-manipulation",e),role:r?"button":void 0,tabIndex:r?0:void 0,onKeyDown:l=>{r&&(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),r())},children:n})}function sp({className:t}){return p.jsx("div",{className:H("bg-[#EEF2F6] rounded animate-pulse",t)})}function I0({lines:t=3}){return p.jsx("div",{className:"space-y-2",children:Array.from({length:t}).map((e,r)=>p.jsx("div",{className:"h-3 bg-[#EEF2F6] rounded animate-pulse"},r))})}function Fl({children:t,onClick:e,className:r}){return p.jsx(Wi,{as:"div",onClick:e,className:H("card card-hover relative","transition-all",e&&"cursor-pointer",r),children:t})}function L0({shiny:t,setShiny:e,q:r,setQ:n,user:s,userProfile:i,userLoading:o,onOpenAuth:a,onSignOut:l,onOpenProfile:u,onOpenShop:d}){const f=N.useRef(null),[h,v]=N.useState(r),y=N.useRef(null);N.useEffect(()=>{v(r)},[r]),N.useEffect(()=>(y.current&&window.clearTimeout(y.current),y.current=window.setTimeout(()=>{n(h)},300),()=>{y.current&&window.clearTimeout(y.current)}),[h]),N.useEffect(()=>{const S=m=>{var c;m.key==="/"&&(m.preventDefault(),(c=f.current)==null||c.focus())};return window.addEventListener("keydown",S),()=>window.removeEventListener("keydown",S)},[]);const w=i?Math.min(i.ratings_today/50*100,100):0;return p.jsx("div",{className:"sticky top-0 z-30 bg-[#C62828] border-b border-[#E0E0E0] shadow-sm",children:p.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-2 flex items-center gap-3",children:[p.jsxs("button",{type:"button",onClick:()=>e(!t),className:H("btn btn-pill btn-secondary text-xs rounded-[10px]",t&&"btn-primary"),children:[p.jsx("span",{"aria-hidden":!0,children:""}),p.jsxs("span",{children:["Shiny ",t?"On":"Off"]})]}),p.jsx("div",{className:"flex-1 flex justify-center min-w-0",children:p.jsx("input",{ref:f,value:h,onChange:S=>v(S.target.value),placeholder:"Search name or #","aria-label":"Search",className:"w-full max-w-[560px] px-3 h-10 rounded-[10px] text-sm bg-white text-[#2C2C2C] placeholder:text-[#666666] border border-[#E0E0E0] shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgba(41,121,255,0.25)]"})}),s&&i&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{type:"button",onClick:d,className:"btn btn-pill btn-secondary text-xs px-3 py-1 font-bold flex items-center gap-1.5",title:"Open Shop",children:[p.jsx("span",{className:"text-base",children:""}),p.jsx("span",{children:i.coins.toLocaleString()})]}),p.jsxs("div",{className:"hidden md:flex items-center gap-2 text-xs",children:[p.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-[rgba(41,121,255,0.12)] text-[#2979FF] border border-[#2979FF]/30",children:[p.jsx("span",{className:"text-sm",children:""}),p.jsxs("span",{className:"font-medium",children:["Lvl ",i.level]})]}),p.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-white text-[#2C2C2C] border border-[#E0E0E0] shadow-sm",title:`${i.ratings_today}/50 ratings today`,children:[p.jsx("span",{className:"text-sm",children:""}),p.jsxs("span",{className:"font-medium",children:[i.ratings_today,"/50"]})]}),i.streak_days>0&&p.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-md bg-[rgba(229,57,53,0.12)] text-[#E53935] border border-[#E53935]/30",children:[p.jsx("span",{className:"text-sm",children:""}),p.jsxs("span",{className:"font-medium",children:[i.streak_days,"d"]})]})]})]}),p.jsx("div",{className:"flex items-center",children:o?p.jsx("div",{className:"w-10 h-10 rounded-full bg-white border border-[#E0E0E0] shadow-sm animate-pulse","aria-label":"Loading user"}):s?p.jsx("div",{className:"relative",children:p.jsxs("details",{className:"group",children:[p.jsxs("summary",{className:"list-none btn btn-ghost btn-pill px-2 py-1 flex items-center gap-2","aria-haspopup":"menu",children:[p.jsx("span",{className:"w-7 h-7 rounded-full overflow-hidden bg-white border border-[#E0E0E0] flex items-center justify-center",children:s.avatarUrl?p.jsx("img",{src:s.avatarUrl,alt:"Avatar",className:"w-full h-full object-cover"}):p.jsx("span",{className:"text-[11px] text-[#2C2C2C]",children:(s.email||"?").slice(0,1).toUpperCase()})}),p.jsx("span",{className:"hidden sm:inline text-xs max-w-[160px] truncate text-white",children:s.email})]}),p.jsxs("div",{className:"absolute right-0 mt-2 min-w-[220px] p-2 z-40 shadow-lg bg-white border border-[#E0E0E0] rounded-lg",role:"menu",children:[i&&p.jsxs("div",{className:"px-2 py-2 border-b border-[#E0E0E0] mb-2",children:[p.jsx("div",{className:"text-xs font-medium text-[#2C2C2C] truncate",children:i.display_name||s.email}),p.jsxs("div",{className:"text-[11px] text-[#666666] mt-1",children:["Level ",i.level,"  ",i.total_ratings," ratings"]}),w<100&&p.jsxs("div",{className:"mt-2",children:[p.jsxs("div",{className:"flex justify-between text-[10px] text-[#666666] mb-1",children:[p.jsx("span",{children:"Daily Progress"}),p.jsxs("span",{children:[i.ratings_today,"/50"]})]}),p.jsx("div",{className:"h-1.5 bg-[#F2F6FA] rounded-full overflow-hidden relative border border-[#E0E0E0]",children:p.jsx("div",{className:`h-full bg-[#2979FF] rounded-full transition-all duration-300 absolute left-0 top-0 progress-bar-${Math.floor(w/10)*10}`,role:"progressbar","aria-valuenow":w,"aria-valuemin":0,"aria-valuemax":100,children:p.jsxs("span",{className:"sr-only",children:[w,"% complete"]})})})]})]}),u&&p.jsx("button",{type:"button",className:"w-full text-left btn btn-ghost px-3 py-2 text-sm",onClick:u,role:"menuitem",children:" Profile"}),d&&p.jsx("button",{type:"button",className:"w-full text-left btn btn-ghost px-3 py-2 text-sm",onClick:d,role:"menuitem",children:" Shop"}),p.jsx("button",{type:"button",className:"w-full text-left btn btn-ghost px-3 py-2 mt-1 text-sm",onClick:l,role:"menuitem",children:" Sign Out"})]})]})}):p.jsx(Wi,{as:"button",onClick:a,className:"btn btn-accent btn-pill text-xs px-4 h-10 rounded-[10px]",children:"Sign In"})})]})})}const Cr=t=>t?"true":"false";function $0({typeSet:t,toggleType:e,genSet:r,toggleGen:n,catSet:s,toggleCat:i,sortBy:o,setSortBy:a,mons:l,itemsCount:u,dense:d,setDense:f}){const h=[{k:"legendary",label:"Legendary",icon:"L"},{k:"mythical",label:"Mythical",icon:"M"},{k:"pseudo",label:"Pseudo",icon:"P"},{k:"mega",label:"Mega",icon:""}],v=[{v:"bayes",label:"Coolness"},{v:"name",label:"AZ"},{v:"dex",label:"Dex"},{v:"gen",label:"Gen"},{v:"region",label:"Region"}],y=N.useMemo(()=>{const c={};return Ac.forEach(g=>{c[g]=l.filter(_=>_.types.includes(g)).length}),c},[l]),w=N.useMemo(()=>{const c={};return Ic.forEach(g=>{c[String(g)]=l.filter(_=>_.generation===g).length}),c},[l]),S=N.useMemo(()=>({legendary:l.filter(c=>c.flags.legendary).length,mythical:l.filter(c=>c.flags.mythical).length,pseudo:l.filter(c=>c.flags.pseudo).length,mega:l.filter(c=>c.flags.mega).length}),[l]),m=t.size+r.size+s.size;return p.jsx(Fl,{className:"shadow-[0_2px_4px_rgba(0,0,0,0.05)]",children:p.jsxs("div",{className:"p-6 text-sm text-[#2C2C2C] filters-wrap",children:[p.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.4fr_1fr_1.1fr] items-start",children:[p.jsxs("div",{children:[p.jsx("div",{className:"filter-head",children:"Types"}),p.jsx("div",{role:"group","aria-label":"Filter by types",className:"flex flex-wrap gap-2 type-filter-group",children:Ac.map(c=>p.jsxs("button",{type:"button","aria-pressed":Cr(t.has(c)),onClick:()=>e(c),className:H("filter-chip badge",`type-${c}`,t.has(c)&&"is-active"),title:t.has(c)?`Remove ${c}`:`Add ${c}`,children:[p.jsx("span",{children:c}),p.jsx("span",{className:"count-badge",children:y[c]||0})]},c))})]}),p.jsxs("div",{children:[p.jsx("div",{className:"filter-head",children:"Generations"}),p.jsx("div",{role:"group","aria-label":"Filter by generations",className:"flex flex-wrap gap-2 gen-filter-group",children:Ic.map(c=>p.jsxs("button",{type:"button","aria-pressed":Cr(r.has(String(c))),onClick:()=>n(String(c)),className:H("filter-pill",r.has(String(c))&&"is-active"),children:[p.jsxs("span",{children:["Gen ",c]}),p.jsx("span",{className:"count-badge",children:w[String(c)]||0})]},c))})]}),p.jsxs("div",{children:[p.jsx("div",{className:"filter-head",children:"Categories"}),p.jsx("div",{role:"group","aria-label":"Filter by categories",className:"grid grid-cols-2 gap-3 cat-filter-group",children:h.map(({k:c,label:g,icon:_})=>p.jsxs("button",{type:"button","aria-pressed":Cr(s.has(c)),onClick:()=>i(c),className:H("category-card",s.has(c)&&"category-card-on"),title:g,children:[p.jsx("span",{className:"category-ico","aria-hidden":!0,children:_}),p.jsx("span",{className:"category-label",children:g}),p.jsx("span",{className:"count-badge ml-auto",children:S[c]||0})]},c))}),p.jsxs("div",{className:"mt-3 flex items-center justify-between gap-3 flex-wrap",children:[p.jsxs("div",{children:[p.jsx("div",{className:"filter-head",children:"Sort"}),p.jsx("div",{role:"tablist","aria-label":"Sort",className:"segmented",children:v.map(c=>p.jsx("button",{type:"button",role:"tab","aria-selected":Cr(o===c.v),className:H("segmented-btn",o===c.v&&"on"),onClick:()=>a(c.v),children:c.label},c.v))})]}),p.jsxs("div",{children:[p.jsx("div",{className:"filter-head",children:"Density"}),p.jsxs("div",{role:"group","aria-label":"Density",className:"segmented",children:[p.jsx("button",{type:"button",className:H("segmented-btn",!d&&"on"),"aria-pressed":Cr(!d),onClick:()=>f(!1),children:"Comfortable"}),p.jsx("button",{type:"button",className:H("segmented-btn",d&&"on"),"aria-pressed":Cr(d),onClick:()=>f(!0),children:"Compact"})]})]}),p.jsxs("div",{className:"result-meta text-[11px] text-[#666666] ml-auto",children:[u.toLocaleString()," results  ",m," filters"]})]})]})]}),(t.size>0||r.size>0||s.size>0)&&p.jsx("div",{className:"mt-4 pt-4 border-t border-[#E0E0E0] flex justify-center",children:p.jsx("button",{onClick:()=>{t.forEach(c=>e(c)),r.forEach(c=>n(c)),s.forEach(c=>i(c))},className:"btn btn-secondary text-xs px-4 py-2",children:"Reset filters"})})]})})}function $c({mon:t,shiny:e,myScore:r,onOpen:n,compact:s=!0}){const[i,o]=N.useState(!1),[a,l]=N.useState(!1),[u,d]=N.useState(0),f=N.useMemo(()=>{const y=t.name.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),w=c=>`https://play.pokemonshowdown.com/sprites/gen5/${c}.png`,S=c=>`https://play.pokemonshowdown.com/sprites/gen5-shiny/${c}.png`,m=[];return e?(m.push(S(y)),m.push(tp(t.dex)),m.push(w(y)),m.push(bi(t.dex))):(m.push(w(y)),m.push(bi(t.dex))),m},[t.dex,e,t.name]),h=f[u];N.useEffect(()=>{d(0),o(!1),l(!1)},[t.dex,e]),N.useEffect(()=>{o(!1),l(!1)},[u]);const v=N.useMemo(()=>{const y=t.types[0],w=t.types[1]||t.types[0];return[y,w]},[t.types]);return p.jsx(Fl,{onClick:n,className:"p-0 overflow-hidden group bg-white pokemon-card transition-all","aria-label":`${ki(t.name)} card`,children:p.jsxs("div",{className:"relative flex flex-col h-full",children:[p.jsxs("div",{className:H("card-head flex items-center justify-between tracking-wide font-semibold bg-white",s?"px-3 pt-2 pb-1 text-[10px]":"px-3 pt-2 pb-1 text-xs"),children:[p.jsxs("div",{className:"flex items-center gap-1.5",children:[!s&&p.jsxs("span",{className:"inline-flex gap-1",children:[p.jsx("span",{className:"led led-green"}),p.jsx("span",{className:"led led-blue"}),p.jsx("span",{className:"led led-amber"})]}),p.jsx("span",{className:H("font-bold",s?"text-[11px]":"text-[13px]"),children:ki(t.name)})]}),p.jsxs("span",{className:H("text-[#666666] font-mono",s?"text-[9px]":"text-xs"),children:["#",String(t.dex).padStart(4,"0")]})]}),p.jsxs("div",{className:H("sprite-wrap w-full flex items-start justify-center relative overflow-hidden pt-1",`type-bg-${v[0]}`),children:[!i&&!a&&p.jsx(sp,{className:"w-full h-full skeleton-shimmer"}),a&&p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-[#E53935] text-[11px]",children:[p.jsx("div",{children:"No sprite"}),p.jsx("div",{children:"available"})]}),p.jsx("img",{onLoad:()=>o(!0),onError:()=>{try{console.debug("image load failed",t.name,h)}catch{}u<f.length-1?d(y=>y+1):l(!0)},src:h,alt:`${t.name} sprite`,loading:"lazy",decoding:"async",width:128,height:128,draggable:!1,className:H("h-full object-contain transition-opacity duration-300 ease-out select-none pointer-events-none will-change-transform",i&&!a?"opacity-100 scale-100 group-hover:animate-float":"opacity-0 scale-95")},`${h}-${e?"sh":"ns"}-${t.dex}`),e&&p.jsx("span",{className:"absolute top-1 right-1 badge badge-shiny shadow text-[9px] tracking-wider",children:"SHINY "})]}),p.jsx("div",{className:H("meta flex flex-wrap gap-1.5",s?"px-3 pt-2 pb-1":"px-4 pt-3 pb-2 gap-2"),children:t.types.map(y=>p.jsx(np,{type:y,compact:s},y))}),!s&&p.jsx("div",{className:"px-3 pb-2 text-[10px] uppercase tracking-wide text-[#666666] h-4 flex items-center",children:t.flags.legendary?"Legendary":t.flags.mythical?"Mythical":t.flags.pseudo?"PseudoLegendary":""}),p.jsxs("div",{className:H("card-footer border-t border-[#E0E0E0] bg-white flex items-center justify-between",s?"px-3 py-2":"px-4 py-3"),children:[p.jsx("div",{className:"flex items-center gap-2 flex-1",children:s?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"flex-1 h-2 rounded-full bg-[#F2F6FA] overflow-hidden border border-[#E0E0E0]",role:"progressbar","aria-label":"Your rating","aria-valuemin":0,"aria-valuemax":10,"aria-valuenow":r||0,children:r>0?p.jsx("div",{className:H("h-full bg-[#2979FF]",`progress-bar-${r*10}`)}):p.jsx("div",{className:"h-full w-full bg-[#E6F0FF]/40"})}),p.jsx("span",{className:"text-[11px] text-[#2C2C2C] font-medium w-10 text-right",children:r>0?`${r}/10`:"N/A"})]}):p.jsx(rp,{value:r,onChange:()=>{}})}),p.jsx("span",{className:"rating-cta text-[11px]","aria-hidden":!0,children:"Open "})]})]})})}function D0({title:t="No results",message:e="No Pokmon match the current filters.",action:r}){return p.jsxs("div",{className:H("empty-state col-span-full flex flex-col items-center justify-center rounded-xl border border-[#D8E2EB] bg-[#F2F6FA] py-10 px-6 relative overflow-hidden"),role:"status","aria-live":"polite",children:[p.jsxs("div",{className:"absolute inset-0 opacity-40 pointer-events-none select-none","aria-hidden":!0,children:[p.jsx("div",{className:"w-56 h-56 rounded-full bg-gradient-to-br from-[#E6F0FF] to-transparent blur-xl absolute -top-10 -left-10"}),p.jsx("div",{className:"w-64 h-64 rounded-full bg-gradient-to-tr from-[#FFE5E4] to-transparent blur-xl absolute -bottom-16 -right-16"})]}),p.jsx("div",{className:"text-4xl mb-3","aria-hidden":!0,children:""}),p.jsx("h2",{className:"text-sm font-semibold tracking-wide uppercase text-[#2C2C2C] mb-2",children:t}),p.jsx("p",{className:"text-[#4F5E6B] text-sm mb-4 text-center max-w-md",children:e}),r&&p.jsx("div",{className:"mt-2",children:r})]})}function U0({error:t,onRetry:e}){return t?p.jsxs("div",{className:H("error-panel col-span-full flex flex-col items-center justify-center rounded-xl border border-[#E53935] bg-[#FFE5E4] py-8 px-6"),role:"alert","aria-live":"assertive",children:[p.jsx("div",{className:"text-3xl mb-3","aria-hidden":!0,children:""}),p.jsx("h2",{className:"text-sm font-semibold tracking-wide uppercase text-[#E53935] mb-2",children:"Load Error"}),p.jsx("p",{className:"text-[#7A1F1D] text-sm mb-4 text-center max-w-md",children:t}),e&&p.jsx("button",{type:"button",onClick:e,className:"btn btn-primary text-xs px-4 py-2",children:"Retry"})]}):null}function F0({id:t,name:e,go:r}){const n=bi(t),s=/mega/i.test(e),i=ki(e);return p.jsxs(Wi,{as:"button",onClick:()=>r(t),className:"flex flex-col items-center text-xs text-[#2C2C2C] hover:opacity-80 active:scale-95 transition-all focus-visible p-2 rounded-lg",children:[p.jsx("div",{className:"w-32 h-32 sm:w-36 sm:h-36 md:w-40 md:h-40 flex items-center justify-center bg-[#F2F6FA] rounded-lg border border-[#E0E0E0] mb-2",children:p.jsx("img",{src:n,alt:`Dex ${t}`,className:"w-full h-full object-contain evo-sprite"})}),p.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[i,s&&p.jsx("span",{className:"badge badge-shiny text-[9px] h-[18px] px-2",children:"MEGA"})]}),p.jsxs("div",{className:"text-[10px] text-[#666666]",children:["#",String(t).padStart(3,"0")]})]})}function B0({levels:t,goToDex:e,nameForDex:r}){return p.jsx("div",{className:"overflow-x-auto pb-2",children:p.jsx("div",{className:"flex items-stretch gap-4",children:t.map((n,s)=>p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"flex flex-col gap-4",children:n.map(i=>p.jsx(F0,{id:i,name:r(i),go:e},i))}),s<t.length-1&&p.jsx("span",{className:"self-center text-[#2979FF] text-2xl font-bold",children:""})]},s))})})}function M0({data:t,height:e=160}){if(!t.length)return p.jsx("div",{className:"h-[160px] flex items-center justify-center text-xs text-[#666666]",children:"No data yet"});const n=t.map(y=>y.t),s=t.map(y=>y.y),i=Math.min(...n),o=Math.max(...n),a=Math.min(...s),l=Math.max(...s),u=6,d=y=>u+(y-i)/(o-i||1)*(640-u*2),f=y=>u+(1-(y-a)/(l-a||1))*(e-u*2),h=t.map(y=>`${d(y.t)},${f(y.y)}`).join(" "),v=(s[s.length-1]-s[0])/(s[0]||1)*100;return p.jsxs("svg",{viewBox:`0 0 640 ${e}`,className:"w-full h-[160px]",children:[p.jsx("defs",{children:p.jsxs("linearGradient",{id:"g1",x1:"0",x2:"0",y1:"0",y2:"1",children:[p.jsx("stop",{offset:"0%",stopColor:"#2979FF",stopOpacity:"0.2"}),p.jsx("stop",{offset:"100%",stopColor:"#2979FF",stopOpacity:"0"})]})}),[.25,.5,.75].map((y,w)=>p.jsx("line",{x1:0,x2:640,y1:y*e,y2:y*e,stroke:"rgba(0,0,0,.05)",strokeWidth:1},w)),p.jsx("polyline",{points:`0,${e} ${h} 640,${e}`,fill:"url(#g1)",stroke:"none"}),p.jsx("polyline",{points:h,fill:"none",stroke:"#2979FF",strokeWidth:2.5}),p.jsx("circle",{cx:d(n[n.length-1]),cy:f(s[s.length-1]),r:4,fill:"#2979FF",stroke:"#FFFFFF",strokeWidth:2}),p.jsxs("text",{x:632,y:16,textAnchor:"end",fontSize:"12",fontWeight:"600",fill:"#2C2C2C",children:[s[s.length-1].toFixed(1)," (",v>=0?"+":"",v.toFixed(1),"%)"]})]})}function z0({mon:t,onBack:e,shiny:r,goToDex:n,nameForDex:s,myScore:i,onRate:o,series:a}){const[l,u]=N.useState(!1),[d,f]=N.useState("all"),h=T0(t.dex,r);Dl[t.types[0]];const v=t.evoLevels||(t.evoChain.length?[t.evoChain]:[[t.dex]]),y=!t.pokedex||t.pokedex.length<3,w=N.useMemo(()=>b0(a,d),[a,d]),[S,m]=N.useState([]);N.useEffect(()=>{let g=!1;const _=Array.from(new Set(v.flat()));return(async()=>{try{const x=new Set,b=new Set(_);await Promise.all(_.map(async j=>{var T;try{const F=await fetch(`https://pokeapi.co/api/v2/pokemon-species/${j}`);if(!F.ok)return;const be=(await F.json()).varieties||[];for(const Pe of be)if((((T=Pe==null?void 0:Pe.pokemon)==null?void 0:T.name)||"").toLowerCase().includes("mega")){const ft=Ul(Pe.pokemon.url||"");ft&&!b.has(ft)&&x.add(ft)}}catch{}})),g||m(Array.from(x))}catch{}})(),()=>{g=!0}},[v]);const c=N.useMemo(()=>S.length?[...v,S]:v,[v,S]);return p.jsxs("div",{className:"min-h-screen bg-[var(--bg-app)] text-[var(--text-primary)]",children:[p.jsx(Aa,{}),p.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[p.jsxs("button",{onClick:e,className:"btn btn-secondary px-4 py-2 mb-4 group focus-visible","aria-label":"Go back",children:[p.jsx("svg",{className:"w-5 h-5 transition-transform group-hover:-translate-x-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),p.jsx("span",{children:"Back"})]}),p.jsxs("div",{className:"mt-2 rounded-2xl bg-white border border-[#E0E0E0] shadow-[0_3px_8px_rgba(0,0,0,0.08)] overflow-hidden",children:[p.jsx("div",{className:H("dex-bar h-1",`bar-${t.types[0]}`)}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"grid md:grid-cols-[420px_1fr] gap-6",children:[p.jsxs("div",{className:H("w-full rounded-xl flex items-center justify-center overflow-hidden p-4 border border-[#E0E0E0]",`type-bg-${t.types[0]}`),children:[!l&&p.jsx(sp,{className:"w-full h-full aspect-square"}),p.jsx("img",{onLoad:()=>u(!0),src:h,alt:`${t.name} art`,draggable:!1,className:H("sprite-pixel object-contain drop-shadow-[0_4px_12px_rgba(0,0,0,0.15)]",l?"opacity-100":"opacity-0")})]}),p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-2",children:[p.jsx("h1",{className:"text-3xl font-semibold tracking-wide text-[#2C2C2C]",children:ki(t.name)}),p.jsxs("div",{className:"text-[#666666] text-sm font-medium",children:["#",String(t.dex).padStart(4,"0"),"  ",t.region,"  Gen ",t.generation]})]}),p.jsx("div",{className:"flex gap-2 flex-wrap",children:t.types.map(g=>p.jsx(np,{type:g},g))}),p.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-[#E0E0E0]",children:[p.jsx("div",{className:"text-sm font-medium text-[#666666]",children:"Your rating"}),p.jsx(rp,{value:i||0,onChange:o})]})]})]}),p.jsxs("div",{className:"mt-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsx("h2",{className:"text-sm font-semibold text-[#2C2C2C] uppercase tracking-wide",children:"Coolness over time"}),p.jsx("div",{className:"segmented",children:["1d","1w","1m","3m","all"].map(g=>p.jsx("button",{onClick:()=>f(g),className:H("segmented-btn",d===g&&"on"),children:g.toUpperCase()},g))})]}),p.jsx(Fl,{className:"p-4",children:p.jsx(M0,{data:w})})]}),p.jsxs("div",{className:"mt-6",children:[p.jsx("h2",{className:"text-sm font-semibold text-[#2C2C2C] uppercase tracking-wide text-center mb-3",children:"Evolution Chain"}),p.jsx("div",{className:"flex justify-center",children:p.jsx(B0,{levels:c,goToDex:n,nameForDex:s})})]}),p.jsxs("div",{className:"mt-6 p-4 bg-[#F2F6FA] rounded-lg border border-[#E0E0E0]",children:[p.jsx("h2",{className:"text-sm font-semibold text-[#2C2C2C] uppercase tracking-wide mb-2",children:"Pokdex Entry"}),p.jsx("div",{className:"text-[#4F5E6B] text-sm leading-relaxed",children:y?p.jsx(I0,{lines:4}):t.pokedex})]})]})]})]})]})}function V0({isOpen:t,onClose:e,onGoogleSignIn:r}){return t?p.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-[#1a0f11]/95 border border-black/60 rounded-2xl p-6 max-w-md w-full shadow-lg dex-rim",children:[p.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Sign in"}),p.jsx("p",{className:"text-sm text-rose-200/80 mb-4",children:"Use your Google account to save your ratings across devices."}),p.jsxs("button",{onClick:r,className:"btn btn-primary btn-pill w-full","aria-label":"Sign in with Google",children:[p.jsx("span",{"aria-hidden":!0,children:""}),p.jsx("span",{children:"Continue with Google"})]}),p.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-rose-200/80 hover:text-rose-100","aria-label":"Close sign in modal",children:""})]})}):null}function W0(){const[t,e]=N.useState(!1),[r,n]=N.useState(""),[s,i]=N.useState(()=>Pc("ratings",{})),[o,a]=N.useState(()=>Pc("rating_events",{}));N.useEffect(()=>Nc("ratings",s),[s]),N.useEffect(()=>Nc("rating_events",o),[o]);const[l,u]=N.useState(Lc),[d,f]=N.useState(!1),[h,v]=N.useState(null),y=A0(),w=N.useRef(new Map(Lc.map(k=>[k.dex,k]))),[S,m]=N.useState(null),[c,g]=N.useState(null),[_,x]=N.useState(!1),[b,j]=N.useState(!0),[T,F]=N.useState(null),[B,be]=N.useState(!1),[Pe,Je]=N.useState(null);N.useEffect(()=>((async()=>{const I=await p0();if(m(I),j(!1),I)try{const O=await Cc(I.id);i(O);const U=await qs(I.id);g(U)}catch(O){console.error("Failed to load user data:",O)}})(),g0(I=>{m(I),j(!1),I?(async()=>{try{const O=await Cc(I.id);i(O);const U=await qs(I.id);g(U)}catch(O){console.error("Failed to load user data:",O)}})():g(null)})),[]);async function ft(){f(!0),v(null);try{const k=w.current;u(Array.from(k.values()).sort((O,U)=>O.dex-U.dex));const I=new AbortController;await N0(O=>{O.forEach(U=>k.set(U.dex,U)),u(Array.from(k.values()).sort((U,de)=>U.dex-de.dex))},I.signal)}catch(k){v(String((k==null?void 0:k.message)||k))}finally{f(!1)}}N.useEffect(()=>{(async()=>{try{await ft()}catch{}})()},[]);const[ot,bt]=N.useState(new Set),Qt=k=>bt(I=>{const O=new Set(I);return O.has(k)?O.delete(k):O.add(k),O}),[C,$]=N.useState(new Set),D=k=>$(I=>{const O=new Set(I);return O.has(k)?O.delete(k):O.add(k),O}),[z,Y]=N.useState(new Set),jt=k=>Y(I=>{const O=new Set(I);return O.has(k)?O.delete(k):O.add(k),O}),[Be,yr]=N.useState("dex"),[at,wr]=N.useState(!1),_r=N.useMemo(()=>{const k=r.trim().toLowerCase();let I=l.filter(O=>{if(k){const U=String(O.dex),de=k.replace(/^#/,""),cn=U===de,fp=O.name.toLowerCase().includes(k);if(!(cn||fp))return!1}return!(C.size>0&&!C.has(String(O.generation))||ot.size>0&&!Array.from(ot).every(U=>O.types.includes(U))||z.size>0&&!(z.has("legendary")&&O.flags.legendary||z.has("mythical")&&O.flags.mythical||z.has("pseudo")&&O.flags.pseudo||z.has("mega")&&O.flags.mega))});switch(Be){case"name":I.sort((O,U)=>O.name.localeCompare(U.name));break;case"dex":I.sort((O,U)=>O.dex-U.dex);break;case"gen":I.sort((O,U)=>O.generation-U.generation||O.dex-U.dex);break;case"region":I.sort((O,U)=>O.region.localeCompare(U.region)||O.dex-U.dex);break;default:I.sort((O,U)=>Rc(U.seedAvg,U.seedCount)-Rc(O.seedAvg,O.seedCount))}return I},[r,C,ot,z,Be,l]);N.useEffect(()=>{(y===""||y==="/")&&k0()},[y]);function ip(){Ls("/")}function ls(k){E0(),Ls(`/pokemon/${k}`)}function op(k){return w.current.get(k)}const[ap,Ml]=N.useState(60),zl=N.useRef(null);N.useEffect(()=>{Ml(60)},[r,C,ot,z,Be]),N.useEffect(()=>{const k=zl.current;if(!k)return;const I=new IntersectionObserver(O=>{for(const U of O)U.isIntersecting&&Ml(de=>de+60)},{rootMargin:"600px 0px"});return I.observe(k),()=>I.disconnect()},[]);const Vl=_r.slice(0,ap);function lp(k){var I;return((I=w.current.get(k))==null?void 0:I.name)||`#${k}`}function up(k){return(o[k]||[]).slice().sort((I,O)=>I.t-O.t)}async function cp(k,I,O){const U=O?-k:k;if(i(de=>({...de,[U]:I})),a(de=>{const cn=(de[U]||[]).concat([{t:Date.now(),y:I}]);return{...de,[U]:cn}}),S)try{await c0(S.id,k,I,O),await d0(S.id,O?-k:k,I);const de=await _0(S.id);if(de.success){const cn=await qs(S.id);g(cn),Je(de.message),setTimeout(()=>Je(null),3e3)}else de.hitDailyLimit&&(Je(de.message),setTimeout(()=>Je(null),4e3))}catch(de){console.error("Failed to save rating:",de)}}async function dp(){try{await h0(),F(null)}catch(k){console.error("Google sign-in failed:",k),F("Google sign-in was cancelled or failed. Please try again.")}}async function hp(){await f0(),m(null)}const Wl=new RegExp("^\\/pokemon\\/(\\d+)$").exec(y);if(Wl){const k=Number(Wl[1]),I=op(k);return I?p.jsx(z0,{mon:I,onBack:ip,shiny:t,goToDex:ls,nameForDex:lp,myScore:s[k]||0,onRate:O=>cp(k,O,t),series:up(k)}):p.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-rose-800 via-red-800 to-rose-950 text-white",children:[p.jsx(Aa,{}),p.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:["Loading #",k,""]})]})}return p.jsxs("div",{className:"min-h-screen relative",children:[p.jsx("div",{className:"dex-noise"}),p.jsx(Aa,{}),p.jsx(L0,{shiny:t,setShiny:e,q:r,setQ:n,user:S,userProfile:c,userLoading:b,onOpenAuth:()=>x(!0),onSignOut:hp,onOpenProfile:()=>Ls("/profile"),onOpenShop:()=>Ls("/shop")}),(ot.size>0||C.size>0||z.size>0)&&p.jsx("div",{className:"subbar",children:p.jsxs("div",{className:"subbar__inner",children:[p.jsxs("div",{className:"chips",children:[Array.from(ot).map(k=>{const I=l.filter(O=>O.types.includes(k)).length;return p.jsxs("button",{className:"chip","aria-label":`Remove ${k} filter`,onClick:()=>Qt(k),onKeyDown:O=>{(O.key==="Backspace"||O.key==="Delete")&&Qt(k)},children:[p.jsx("span",{children:k}),p.jsx("span",{className:"chip__count",children:I}),p.jsx("span",{"aria-hidden":!0,children:""})]},`type-${k}`)}),Array.from(C).map(k=>{const I=l.filter(O=>O.generation===Number(k)).length;return p.jsxs("button",{className:"chip","aria-label":`Remove Gen ${k} filter`,onClick:()=>D(k),onKeyDown:O=>{(O.key==="Backspace"||O.key==="Delete")&&D(k)},children:[p.jsxs("span",{children:["Gen ",k]}),p.jsx("span",{className:"chip__count",children:I}),p.jsx("span",{"aria-hidden":!0,children:""})]},`gen-${k}`)}),Array.from(z).map(k=>{const I=k==="legendary"?"Legendary":k==="mythical"?"Mythical":k==="pseudo"?"Pseudo":"Mega",O=l.filter(U=>k==="legendary"?U.flags.legendary:k==="mythical"?U.flags.mythical:k==="pseudo"?U.flags.pseudo:k==="mega"?U.flags.mega:!1).length;return p.jsxs("button",{className:"chip","aria-label":`Remove ${I} filter`,onClick:()=>jt(k),onKeyDown:U=>{(U.key==="Backspace"||U.key==="Delete")&&jt(k)},children:[p.jsx("span",{children:I}),p.jsx("span",{className:"chip__count",children:O}),p.jsx("span",{"aria-hidden":!0,children:""})]},`cat-${k}`)})]}),p.jsx("button",{className:"clear",disabled:ot.size===0&&C.size===0&&z.size===0,onClick:()=>{bt(new Set),$(new Set),Y(new Set)},children:"Clear all"})]})}),p.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[p.jsxs("div",{className:"mb-4 text-xs text-[#666666] flex items-center gap-2",children:[p.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-[#00E676] animate-pulse shadow-[0_0_8px_rgba(0,230,118,0.6)]"}),p.jsxs("span",{children:["Loaded: ",l.length]}),d&&p.jsx("span",{className:"ml-2",children:"Loading"}),h&&p.jsx("span",{className:"ml-2 text-[#E53935]",children:h}),p.jsx(Wi,{as:"button",onClick:()=>{bt(new Set),$(new Set),Y(new Set),n(""),yr("dex")},className:"ml-auto text-xs px-3 py-1 rounded-md btn btn-secondary",children:"Reset"})]}),p.jsx($0,{typeSet:ot,toggleType:Qt,genSet:C,toggleGen:D,catSet:z,toggleCat:jt,sortBy:Be,setSortBy:yr,mons:l,itemsCount:_r.length,dense:at,setDense:wr})]}),p.jsxs("div",{className:H("max-w-6xl mx-auto px-4 pb-10 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6",at?"gap-3":"gap-5"),children:[h&&p.jsx(U0,{error:h,onRetry:ft}),Vl.map(k=>{const I=p.jsx($c,{mon:k,shiny:!1,myScore:s[k.id]||0,onOpen:()=>ls(k.dex)},k.id);return t?[I,p.jsx($c,{mon:k,shiny:!0,myScore:s[-k.id]||0,onOpen:()=>ls(k.dex)},k.id+"-shiny")]:I}),!h&&_r.length===0&&p.jsx(D0,{message:"Try adjusting types, generation or category filters, or clear them to see everything again.",action:p.jsx("button",{type:"button",onClick:()=>{bt(new Set),$(new Set),Y(new Set),n("")},className:"btn btn-accent text-xs",children:"Clear filters"})}),Vl.length<_r.length&&p.jsx("div",{ref:zl,className:"col-span-full h-24 flex items-center justify-center text-xs text-[#666666]",children:"Loading more"})]}),p.jsx("footer",{className:"py-8 text-center text-[#666666] text-xs",children:"Web prototype  Sprites  respective owners."}),p.jsx("button",{type:"button",className:"fixed bottom-5 right-5 z-40 rounded-full w-14 h-14 bg-[#E53935] hover:bg-[#D32F2F] text-white text-2xl shadow-[0_6px_18px_rgba(0,0,0,0.15)] transition-transform hover:scale-110","aria-label":"Open random Pokmon",onClick:()=>{const k=_r.length?_r:l;if(!k.length)return;const I=k[Math.floor(Math.random()*k.length)];ls(I.dex)},title:"Random Pokmon",children:""}),p.jsx(V0,{isOpen:_,onClose:()=>x(!1),onGoogleSignIn:dp}),T&&p.jsx("div",{className:"fixed bottom-4 right-4 dex-panel px-4 py-3 text-sm shadow-lg border border-[#E0E0E0]/20",role:"status",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("span",{children:""}),p.jsx("span",{className:"text-[#E0E0E0]",children:T}),p.jsx("button",{className:"btn btn-ghost btn-pill px-2 py-1 text-xs",onClick:()=>F(null),children:"Dismiss"})]})}),Pe&&p.jsx("div",{className:"fixed top-20 right-4 bg-white text-[#2C2C2C] px-4 py-3 rounded-lg shadow-[0_6px_18px_rgba(0,0,0,0.15)] text-sm font-bold border border-[#E0E0E0]",role:"status",children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"text-xl",children:""}),p.jsx("span",{children:Pe})]})})]})}console.log("Starting application...");const Bl=document.getElementById("root");console.log("Root element:",Bl);if(!Bl)throw console.error("Root element not found!"),new Error("Root element not found!");console.log("Creating React root...");Co.createRoot(Bl).render(p.jsx(Gc.StrictMode,{children:p.jsx(W0,{})}));
